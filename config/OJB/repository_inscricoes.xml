<!-- Please keep user defined mappings in this file only
     to avoid mixing user defined and system mappings. -->
<!-- Mapping of User defined classes starts here -->

<!-- *************************************************************************************************************** -->
<!-- Definitions for Dominio.Departamento -->
<!-- *************************************************************************************************************** -->
<class-descriptor class="Dominio.Departamento" table="DEPARTMENT">
	<field-descriptor
		name="codigoInterno"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="nome"
		column="NAME"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="sigla"
		column="CODE"
		jdbc-type="VARCHAR"
	/>
	<collection-descriptor
			name="disciplinasAssociadas"
			collection-class="org.apache.ojb.broker.util.collections.ManageableHashSet"
			element-class-ref="Dominio.DisciplinaDepartamento">
		<inverse-foreignkey field-ref="chaveDepartamento"/>
	</collection-descriptor>    
</class-descriptor>   

<!-- *************************************************************************************************************** -->
<!-- Definitions for Dominio.DisciplinaDepartamento -->
<!-- *************************************************************************************************************** -->
<class-descriptor class="Dominio.DisciplinaDepartamento" table="DEPARTMENT_COURSE">
	<field-descriptor
		name="codigoInterno"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="nome"
		column="NAME"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="sigla"
		column="CODE"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="chaveDepartamento"
		column="KEY_DEPARTMENT"
		jdbc-type="INTEGER"
	/>
	<reference-descriptor
			name="departamento"
			class-ref="Dominio.Departamento"
			proxy="true">
		<foreignkey field-ref="chaveDepartamento"/>
	</reference-descriptor>     
</class-descriptor>

<!-- *************************************************************************************************************** -->
<!-- Definitions for Dominio.Curso -->
<!-- *************************************************************************************************************** -->
<class-descriptor class="Dominio.Curso" table="DEGREE">
	<field-descriptor
		name="codigoInterno"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="sigla"
		column="CODE"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="nome"
		column="NAME"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="tipoCurso"
		column="TYPE_DEGREE"
		jdbc-type="INTEGER"
		conversion="ServidorPersistente.Conversores.JavaTipoCurso2SqlTipoCursoFieldConversion"
	/>
</class-descriptor>

<!-- *************************************************************************************************************** -->
<!-- Definitions for Dominio.DegreeCurricularPlan -->
<!-- *************************************************************************************************************** -->
<class-descriptor class="Dominio.DegreeCurricularPlan" table="DEGREE_CURRICULAR_PLAN">
	<field-descriptor
		name="idInternal"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="name"
		column="NAME"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="state"
		column="STATE"
		jdbc-type="INTEGER"
		conversion="ServidorPersistente.Conversores.JavaDegreeCurricularPlanState2SqlDegreeCurricularPlanStateFieldConversion"
	/>
	<field-descriptor
		name="initialDate"
		column="INITIAL_DATE"
		jdbc-type="DATE"
		conversion="org.apache.ojb.broker.accesslayer.conversions.JavaDate2SqlDateFieldConversion"
	/>
	<field-descriptor
		name="endDate"
		column="END_DATE"
		jdbc-type="DATE"
		conversion="org.apache.ojb.broker.accesslayer.conversions.JavaDate2SqlDateFieldConversion"
	/>
	<field-descriptor
		name="keyDegree"
		column="KEY_DEGREE"
		jdbc-type="INTEGER"
	/>
	<reference-descriptor
			name="degree"
			class-ref="Dominio.Curso"
			proxy="false">
		<foreignkey field-ref="keyDegree"/>
	</reference-descriptor>
	<collection-descriptor
			name="curricularCourses"
			element-class-ref="Dominio.CurricularCourse"
			auto-retrieve="true"
			proxy="true">
			<inverse-foreignkey field-ref="degreeCurricularPlanKey"/>
	</collection-descriptor>
</class-descriptor>

<!-- ************************************************************************************************************ -->
<!-- Definitions for Dominio.CurricularCourse -->
<!-- ************************************************************************************************************ -->
<class-descriptor class="Dominio.CurricularCourse" table="CURRICULAR_COURSE">
	<field-descriptor
		name="internalCode"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="departmentCourseKey"
		column="KEY_DEPARTMENT_COURSE"
		jdbc-type="INTEGER"
	/>
	<field-descriptor
		name="degreeCurricularPlanKey"
		column="KEY_DEGREE_CURRICULAR_PLAN"
		jdbc-type="INTEGER"
	/> 
	<field-descriptor
		name="credits"
		column="CREDITS"
		jdbc-type="DOUBLE"
	/>
	<field-descriptor
		name="theoreticalHours"
		column="THEORETICAL_HOURS"
		jdbc-type="DOUBLE"
	/>
	<field-descriptor
		name="praticalHours"
		column="PRATICAL_HOURS"
		jdbc-type="DOUBLE"
	/>
	<field-descriptor
		name="theoPratHours"
		column="THEO_PRAT_HOURS"
		jdbc-type="DOUBLE"
	/>
	<field-descriptor
		name="labHours"
		column="LAB_HOURS"
		jdbc-type="DOUBLE"
	/>
	<field-descriptor
		name="name"
		column="NAME"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="code"
		column="CODE"
		jdbc-type="VARCHAR"
	/>
	<reference-descriptor
			name="departmentCourse"
			class-ref="Dominio.DisciplinaDepartamento"
			proxy="true">
		<foreignkey field-ref="departmentCourseKey"/>
	</reference-descriptor> 
	<reference-descriptor
			name="degreeCurricularPlan"
			class-ref="Dominio.DegreeCurricularPlan"
			proxy="false">
		<foreignkey field-ref="degreeCurricularPlanKey"/>
	</reference-descriptor>
	<collection-descriptor
			name="associatedExecutionCourses"
			element-class-ref="Dominio.DisciplinaExecucao"
			indirection-table="CURRICULAR_COURSE_EXECUTION_COURSE"
			auto-retrieve="true"
			proxy="true">
		<fk-pointing-to-this-class column="KEY_CURRICULAR_COURSE"/>
		<fk-pointing-to-element-class column="KEY_EXECUTION_COURSE"/>
	</collection-descriptor>


<!--
	<collection-descriptor
			name="associatedBranches"
			element-class-ref="Dominio.Branch"
			indirection-table="CURRICULAR_COURSE_BRANCH"
			auto-retrieve="true"
			proxy="true">
		<fk-pointing-to-this-class column="KEY_CURRICULAR_COURSE"/>
		<fk-pointing-to-element-class column="KEY_BRANCH"/>
	</collection-descriptor>
	<collection-descriptor
			name="associatedCurricularSemesters"
			element-class-ref="Dominio.CurricularSemester"
			indirection-table="CURRICULAR_COURSE_CURRICULAR_SEMESTER"
			auto-retrieve="true"
			proxy="true">
		<fk-pointing-to-this-class column="KEY_CURRICULAR_COURSE"/>
		<fk-pointing-to-element-class column="KEY_CURRICULAR_SEMESTER"/>
	</collection-descriptor>
-->

	<collection-descriptor
			name="scopes"
			element-class-ref="Dominio.CurricularCourseScope">
		<inverse-foreignkey field-ref="curricularCourseKey"/>
	</collection-descriptor>    

</class-descriptor>

<!-- ************************************************************************************************************ -->
<!-- Definitions for Dominio.StudentCurricularPlan -->
<!-- ************************************************************************************************************ -->
<class-descriptor class="Dominio.StudentCurricularPlan" table="STUDENT_CURRICULAR_PLAN">
	<field-descriptor
		name="internalCode"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="studentKey"
		column="KEY_STUDENT"
		jdbc-type="INTEGER"
	/>
	<field-descriptor
		name="degreeCurricularPlanKey"
		column="KEY_DEGREE_CURRICULAR_PLAN"
		jdbc-type="INTEGER"
	/>
	<field-descriptor
		name="currentState"
		column="CURRENT_STATE"
		jdbc-type="INTEGER"
		conversion="ServidorPersistente.Conversores.JavaStudentCurricularPlanState2SqlStudentCurricularPlanStateFieldConversion"
	/>
	<field-descriptor
		name="startDate"
		column="START_DATE"
		jdbc-type="DATE"
	/>
	<field-descriptor
		name="branchKey"
		column="KEY_BRANCH"
		jdbc-type="INTEGER"
	/>
	<reference-descriptor
			name="student"
			class-ref="Dominio.Student"
			proxy="false">
		<foreignkey field-ref="studentKey"/>
	</reference-descriptor>
	<reference-descriptor
			name="degreeCurricularPlan"
			class-ref="Dominio.DegreeCurricularPlan"
			proxy="false">
		<foreignkey field-ref="degreeCurricularPlanKey"/>
	</reference-descriptor>
	<reference-descriptor
			name="branch"
			class-ref="Dominio.Branch"
			proxy="false">
		<foreignkey field-ref="branchKey"/>
	</reference-descriptor>
</class-descriptor>

<!-- ************************************************************************************************************ -->
<!-- Definitions for Dominio.Enrolment -->
<!-- ************************************************************************************************************ -->
<class-descriptor class="Dominio.Enrolment" table="ENROLMENT">
	<field-descriptor
		name="internalID"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="studentCurricularPlanKey"
		column="KEY_STUDENT_CURRICULAR_PLAN"
		jdbc-type="INTEGER"
	/>
	<field-descriptor
		name="curricularCourseKey"
		column="KEY_CURRICULAR_COURSE"
		jdbc-type="INTEGER"
	/>    
	<field-descriptor
		name="keyExecutionPeriod"
		column="KEY_EXECUTION_PERIOD"
		jdbc-type="INTEGER"
	/>    
	<field-descriptor
		name="state"
		column="STATE"
		jdbc-type="INTEGER"
		conversion="ServidorPersistente.Conversores.JavaEnrolmentState2SqlEnrolmentStateFieldConversion"
	/>
	<reference-descriptor
			name="studentCurricularPlan"
			class-ref="Dominio.StudentCurricularPlan"
			proxy="false">
		<foreignkey field-ref="studentCurricularPlanKey"/>
	</reference-descriptor>      
	<reference-descriptor
			name="curricularCourse"
			class-ref="Dominio.CurricularCourse"
			proxy="false">
		<foreignkey field-ref="curricularCourseKey"/>
	</reference-descriptor>      
	<reference-descriptor name="executionPeriod"
		class-ref="Dominio.ExecutionPeriod" proxy="false">
		<foreignkey field-ref="keyExecutionPeriod"/>
	</reference-descriptor>
	
	
</class-descriptor>

<!-- ************************************************************************************************************ -->
<!-- Definitions for Dominio.CurricularYear -->
<!-- ************************************************************************************************************ -->
<class-descriptor class="Dominio.CurricularYear" table="CURRICULAR_YEAR">
	<field-descriptor
		name="internalID"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="year"
		column="YEAR"
		jdbc-type="INTEGER"
	/>
</class-descriptor>

<!-- ************************************************************************************************************ -->
<!-- Definitions for Dominio.CurricularSemester -->
<!-- ************************************************************************************************************ -->
<class-descriptor class="Dominio.CurricularSemester" table="CURRICULAR_SEMESTER">
	<field-descriptor
		name="internalID"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="curricularYearKey"
		column="KEY_CURRICULAR_YEAR"
		jdbc-type="INTEGER"
	/>
	<field-descriptor
		name="semester"
		column="SEMESTER"
		jdbc-type="INTEGER"
	/>
	<reference-descriptor
			name="curricularYear"
			class-ref="Dominio.CurricularYear"
			proxy="false">
		<foreignkey field-ref="curricularYearKey"/>
	</reference-descriptor>


<!--
	<collection-descriptor
			name="associatedCurricularCourses"
			element-class-ref="Dominio.CurricularCourse"
			indirection-table="CURRICULAR_COURSE_CURRICULAR_SEMESTER"
			auto-retrieve="true"
			proxy="true">
		<fk-pointing-to-this-class column="KEY_CURRICULAR_SEMESTER"/>
		<fk-pointing-to-element-class column="KEY_CURRICULAR_COURSE"/>
	</collection-descriptor>
-->

	<collection-descriptor
			name="scopes"
			element-class-ref="Dominio.CurricularCourseScope">
		<inverse-foreignkey field-ref="curricularSemesterKey"/>
	</collection-descriptor>    


</class-descriptor>

<!-- ************************************************************************************************************ -->
<!-- Definitions for Dominio.Branch -->
<!-- ************************************************************************************************************ -->
<class-descriptor class="Dominio.Branch" table="BRANCH">
	<field-descriptor
		name="internalID"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="code"
		column="BRANCH_CODE"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="name"
		column="BRANCH_NAME"
		jdbc-type="VARCHAR"
	/>
<!--
	<collection-descriptor
			name="associatedStudentCurricularPlans"
			element-class-ref="Dominio.StudentCurricularPlan"
			indirection-table="STUDENT_CURRICULAR_PLAN_BRANCH"
			auto-retrieve="true"
			proxy="true">
		<fk-pointing-to-this-class column="KEY_BRANCH"/>
		<fk-pointing-to-element-class column="KEY_STUDENT_CURRICULAR_PLAN"/>
	</collection-descriptor>
-->
<!--
	<collection-descriptor
			name="associatedCurricularCourses"
			element-class-ref="Dominio.CurricularCourse"
			indirection-table="CURRICULAR_COURSE_BRANCH"
			auto-retrieve="true"
			proxy="true">
		<fk-pointing-to-this-class column="KEY_BRANCH"/>
		<fk-pointing-to-element-class column="KEY_CURRICULAR_COURSE"/>
	</collection-descriptor>
-->

	<collection-descriptor
			name="scopes"
			element-class-ref="Dominio.CurricularCourseScope">
		<inverse-foreignkey field-ref="branchKey"/>
	</collection-descriptor>    

</class-descriptor>

<!-- ************************************************************************************************************ -->
<!-- Definitions for Dominio.Equivalence -->
<!-- ************************************************************************************************************ -->
<class-descriptor class="Dominio.Equivalence" table="EQUIVALENCE">
	<field-descriptor
		name="internalID"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="equivalentEnrolmentKey"
		column="KEY_EQUIVALENT_ENROLMENT"
		jdbc-type="INTEGER"
	/>
	<field-descriptor
		name="enrolmentKey"
		column="KEY_ENROLMENT"
		jdbc-type="INTEGER"
	/>
	<field-descriptor
		name="equivalenceType"
		column="EQUIVALENCE_TYPE"
		jdbc-type="INTEGER"
		conversion="ServidorPersistente.Conversores.JavaEquivalenceType2SqlEquivalenceTypeFieldConversion"
	/>
	<reference-descriptor
			name="equivalentEnrolment"
			class-ref="Dominio.Enrolment"
			proxy="false">
		<foreignkey field-ref="equivalentEnrolmentKey"/>
	</reference-descriptor>
	<reference-descriptor
			name="enrolment"
			class-ref="Dominio.Enrolment"
			proxy="false">
		<foreignkey field-ref="enrolmentKey"/>
	</reference-descriptor>
</class-descriptor>

<!-- ************************************************************************************************************ -->
<!-- Definitions for Dominio.CurricularCourseScope -->
<!-- ************************************************************************************************************ -->
<class-descriptor class="Dominio.CurricularCourseScope" table="CURRICULAR_COURSE_SCOPE">
	<field-descriptor
		name="internalID"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="curricularCourseKey"
		column="KEY_CURRICULAR_COURSE"
		jdbc-type="INTEGER"
	/>
	<field-descriptor
		name="curricularSemesterKey"
		column="KEY_CURRICULAR_SEMESTER"
		jdbc-type="INTEGER"
	/>
	<field-descriptor
		name="branchKey"
		column="KEY_BRANCH"
		jdbc-type="INTEGER"
	/>
	<reference-descriptor
			name="curricularCourse"
			class-ref="Dominio.CurricularCourse"
			proxy="false">
		<foreignkey field-ref="curricularCourseKey"/>
	</reference-descriptor>
	<reference-descriptor
			name="curricularSemester"
			class-ref="Dominio.CurricularSemester"
			proxy="false">
		<foreignkey field-ref="curricularSemesterKey"/>
	</reference-descriptor>
	<reference-descriptor
			name="branch"
			class-ref="Dominio.Branch"
			proxy="false">
		<foreignkey field-ref="branchKey"/>
	</reference-descriptor>
</class-descriptor>

<!-- ************************************************************************************************************ -->
<!-- Definitions for Dominio.Precedence -->
<!-- ************************************************************************************************************ -->
<!--
<class-descriptor class="Dominio.Precedence" table="PRECEDENCE">
	<field-descriptor id="1"
		name="internalID"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor id="2"
		name="curricularCourseKey"
		column="KEY_CURRICULAR_COURSE"
		jdbc-type="INTEGER"
	/>
	<field-descriptor id="3"
		name="precedingCurricularCourseKey"
		column="KEY_PRECEDING_CURRICULAR_COURSE"
		jdbc-type="INTEGER"
	/>
	<reference-descriptor
			name="curricularCourse"
			class-ref="Dominio.CurricularCourse"
			proxy="true">
		<foreignkey field-id-ref="2"/>
	</reference-descriptor>
	<reference-descriptor
			name="precedingCurricularCourse"
			class-ref="Dominio.CurricularCourse"
			proxy="true">
		<foreignkey field-id-ref="3"/>
	</reference-descriptor>
</class-descriptor>
-->

<!-- Mapping of User defined classes ends here -->