<!-- Please keep user defined mappings in this file only
     to avoid mixing user defined and system mappings. -->   
<!-- Mapping of User defined classes starts here -->

<!-- ******************************************************************************************************************************* -->
<!-- Definitions for Dominio.Pessoa -->
<!-- ******************************************************************************************************************************* -->
<class-descriptor class="Dominio.Pessoa"
                  table="PERSON">
    <field-descriptor id="1"
        name="codigoInterno"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />
    <field-descriptor id="2"
        name="numeroDocumentoIdentificacao"
        column="DOCUMENT_ID_NUMBER"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="3"
        name="localEmissaoDocumentoIdentificacao"
        column="EMISSION_LOCATION_OF_DOCUMENT_ID"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="4"
        name="dataEmissaoDocumentoIdentificacao"
        column="EMISSION_DATE_OF_DOCUMENT_ID"
        jdbc-type="DATE"
        conversion="org.apache.ojb.broker.accesslayer.conversions.JavaDate2SqlDateFieldConversion"
    />
    <field-descriptor id="5"
        name="dataValidadeDocumentoIdentificacao"
        column="EXPERATION_DATE_OF_DOCUMENT_ID"
        jdbc-type="DATE"
        conversion="org.apache.ojb.broker.accesslayer.conversions.JavaDate2SqlDateFieldConversion"
    />
    <field-descriptor id="6"
        name="nome"
        column="NAME"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="7"
        name="nascimento"
        column="DATE_OF_BIRTH"
        jdbc-type="DATE"
        conversion="org.apache.ojb.broker.accesslayer.conversions.JavaDate2SqlDateFieldConversion"
    />
    <field-descriptor id="8"
        name="nomePai"
        column="NAME_OF_FATHER"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="9"
        name="nomeMae"
        column="NAME_OF_MOTHER"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="10"
        name="nacionalidade"
        column="NATIONALITY"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="11"
        name="freguesiaNaturalidade"
        column="PARISH_OF_BIRTH"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="12"
        name="concelhoNaturalidade"
        column="DISTRICT_SUBDIVISION_OF_BIRTH"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="13"
        name="distritoNaturalidade"
        column="DISTRICT_OF_BIRTH"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="14"
        name="morada"
        column="ADDRESS"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="15"
        name="localidade"
        column="AREA"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="16"
        name="codigoPostal"
        column="AREA_CODE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="17"
        name="localidadeCodigoPostal"
        column="AREA_OF_AREA_CODE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="18"
        name="freguesiaMorada"
        column="PARISH_OF_RESIDENCE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="19"
        name="concelhoMorada"
        column="DISTRICT_SUBDIVISION_OF_RESIDENCE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="20"
        name="distritoMorada"
        column="DISTRICT_OF_RESIDENCE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="21"
        name="telefone"
        column="PHONE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="22"
        name="telemovel"
        column="MOBILE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="23"
        name="email"
        column="EMAIL"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="24"
        name="enderecoWeb"
        column="WEB_ADRDRESS"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="25"
        name="numContribuinte"
        column="SOCUAL_SECURITY_NUMBER"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="26"
        name="profissao"
        column="PROFESSION"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="27"
        name="username"
        column="USERNAME"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="28"
        name="password"
        column="PASSWD"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="29"
        name="chavePais"
        column="KEY_COUNTRY"
        jdbc-type="INTEGER"
    />
    <field-descriptor id="30"
        name="codigoFiscal"
        column="FISCAL_CODE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="31"
        name="tipoDocumentoIdentificacao"
        column="TYPE_ID_DOCUMENT"
        jdbc-type="INTEGER"
		conversion="ServidorPersistente.Conversores.JavaTipoDocId2SqlTipoDocIdFieldConversion"
    />
    <field-descriptor id="32"
        name="sexo"
        column="SEX"
        jdbc-type="INTEGER"
		conversion="ServidorPersistente.Conversores.JavaSexo2SqlSexoFieldConversion"
    />
    <field-descriptor id="33"
        name="estadoCivil"
        column="MARITAL_STATUS"
        jdbc-type="INTEGER"
		conversion="ServidorPersistente.Conversores.JavaEstadoCivil2SqlEstadoCivilFieldConversion"
    />
    <reference-descriptor
         name="pais"
         class-ref="Dominio.Country"
         proxy="true"
    >
         <foreignkey field-id-ref="29"/>
    </reference-descriptor>
    <collection-descriptor
         name="privilegios"
         collection-class="org.apache.ojb.broker.util.collections.ManageableHashSet"
         element-class-ref="Dominio.Privilegio"
      >
         <inverse-foreignkey field-id-ref="2"/>
      </collection-descriptor>    
</class-descriptor>

<!-- ************************************************************************************************************ -->
<!-- Definitions for Dominio.Country -->
<!-- ************************************************************************************************************ -->
<class-descriptor class="Dominio.Country"
                  table="COUNTRY">
    <field-descriptor id="1"
        name="internalCode"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />
    <field-descriptor id="2"
        name="name"
        column="NAME"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="3"
        name="nationality"
        column="NATIONALITY"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="4"
        name="code"
        column="CODE"
        jdbc-type="VARCHAR"
    />
</class-descriptor>

<!-- Definitions for Dominio.CurricularCourse -->
<class-descriptor class="Dominio.CurricularCourse"
                  table="CURRICULAR_COURSE">
    <field-descriptor id="1"
        name="internalCode"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />
    <field-descriptor id="2"
        name="departmentCourseKey"
        column="KEY_DEPARTMENT_COURSE"
        jdbc-type="INTEGER"
    />
    <field-descriptor id="3"
        name="degreeCurricularPlanKey"
        column="KEY_DEGREE_CURRICULAR_PLAN"
        jdbc-type="INTEGER"
    /> 
    <field-descriptor id="4"
        name="credits"
        column="CREDITS"
        jdbc-type="DOUBLE"
    />
    <field-descriptor id="5"
        name="theoreticalHours"
        column="THEORETICAL_HOURS"
        jdbc-type="DOUBLE"
    />
    <field-descriptor id="6"
        name="praticalHours"
        column="PRATICAL_HOURS"
        jdbc-type="DOUBLE"
    />
    <field-descriptor id="7"
        name="theoPratHours"
        column="THEO_PRAT_HOURS"
        jdbc-type="DOUBLE"
    />
    <field-descriptor id="8"
        name="labHours"
        column="LAB_HOURS"
        jdbc-type="DOUBLE"
    />
    <field-descriptor id="9"
        name="curricularYear"
        column="CURRICULAR_YEAR"
        jdbc-type="INTEGER"
    />
    <field-descriptor id="10"
        name="semester"
        column="SEMESTER"
        jdbc-type="INTEGER"
    />
    <field-descriptor id="11"
        name="name"
        column="NAME"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="12"
        name="code"
        column="CODE"
        jdbc-type="VARCHAR"
    />
    <reference-descriptor
         name="departmentCourse"
         class-ref="Dominio.DisciplinaDepartamento"
         proxy="true"
      >
      <foreignkey field-id-ref="2"/>
    </reference-descriptor> 
    
    <reference-descriptor
         name="degreeCurricularPlan"
         class-ref="Dominio.PlanoCurricularCurso"
         proxy="true"
      >
         <foreignkey field-id-ref="3"/>
      </reference-descriptor>       
    
    
    <collection-descriptor
 	name="associatedExecutionCourses"
 	element-class-ref="Dominio.DisciplinaExecucao"
	indirection-table="CURRICULAR_COURSE_EXECUTION_COURSE"
	auto-retrieve="true"
	auto-update="true"
       >
       <fk-pointing-to-this-class column="KEY_CURRICULAR_COURSE"/>
       <fk-pointing-to-element-class column="KEY_EXECUTION_COURSE"/>
    </collection-descriptor>       
    
</class-descriptor>

<!-- Definitions for Dominio.DisciplinaExecucao -->
<class-descriptor class="Dominio.DisciplinaExecucao"
                  table="EXECUTION_COURSE">
    <field-descriptor id="1"
        name="codigoInterno"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />
    <field-descriptor id="2"
        name="nome"
        column="NAME"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="3"
        name="sigla"
        column="CODE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="4"
        name="chaveLicenciaturaExecucao"
        column="KEY_EXECUTION_DEGREE"
        jdbc-type="INTEGER"
    />
    <field-descriptor id="5"
        name="chaveResponsavel"
        column="KEY_TEACHER_IN_CHARGE"
        jdbc-type="INTEGER"
    />
    <field-descriptor id="6"
        name="programa"
        column="PROGRAM"
        jdbc-type="LONGVARCHAR"
    />
    <field-descriptor id="7"
        name="theoreticalHours"
        column="THEORETICAL_HOURS"
        jdbc-type="DOUBLE"
    />
    <field-descriptor id="8"
        name="praticalHours"
        column="PRATICAL_HOURS"
        jdbc-type="DOUBLE"
    />
    <field-descriptor id="9"
        name="theoPratHours"
        column="THEO_PRAT_HOURS"
        jdbc-type="DOUBLE"
    />
    <field-descriptor id="10"
        name="labHours"
        column="LAB_HOURS"
        jdbc-type="DOUBLE"
    />    
    <!-- :FIXME: to be removed -->
    <field-descriptor id="11"
        name="semester"
        column="SEMESTER"
        jdbc-type="INTEGER"
    />    

    <field-descriptor id="12"
        name="keyExecutionPeriod"
        column="KEY_EXECUTION_PERIOD"
        jdbc-type="INTEGER"
    />    
    
    <reference-descriptor
         name="licenciaturaExecucao"
         class-ref="Dominio.CursoExecucao"
         proxy="true"
      >
         <foreignkey field-id-ref="4"/>
      </reference-descriptor> 

    <reference-descriptor
         name="executionPeriod"
         class-ref="Dominio.ExecutionPeriod"
         proxy="true"
      >
         <foreignkey field-id-ref="12"/>
      </reference-descriptor> 
      
   
    <collection-descriptor
 	name="associatedCurricularCourses"
 	element-class-ref="Dominio.CurricularCourse"
	indirection-table="CURRICULAR_COURSE_EXECUTION_COURSE"
	auto-retrieve="true"
	auto-update="true"
       >
       <fk-pointing-to-this-class column="KEY_EXECUTION_COURSE"/>
       <fk-pointing-to-element-class column="KEY_CURRICULAR_COURSE"/>
    </collection-descriptor>   
      
</class-descriptor>

   
   
<!-- ******************************************************************************************************************************* -->
<!-- Definitions for Dominio.Departamento -->
<!-- ******************************************************************************************************************************* -->
<class-descriptor class="Dominio.Departamento"
                  table="DEPARTMENT">
    <field-descriptor id="1"
        name="codigoInterno"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />
    <field-descriptor id="2"
        name="nome"
        column="NAME"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="3"
        name="sigla"
        column="CODE"
        jdbc-type="VARCHAR"
    />
    <collection-descriptor
         name="disciplinasAssociadas"
         collection-class="org.apache.ojb.broker.util.collections.ManageableHashSet"
         element-class-ref="Dominio.DisciplinaDepartamento"
    >
         <inverse-foreignkey field-id-ref="4"/>
    </collection-descriptor>    

    
</class-descriptor>   

<!-- ******************************************************************************************************************************* -->
<!-- Definitions for Dominio.DisciplinaDepartamento -->
<!-- ******************************************************************************************************************************* -->
<class-descriptor class="Dominio.DisciplinaDepartamento"
                  table="DEPARTMENT_COURSE">
    <field-descriptor id="1"
        name="codigoInterno"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />
    <field-descriptor id="2"
        name="nome"
        column="NAME"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="3"
        name="sigla"
        column="CODE"
        jdbc-type="VARCHAR"
    />
    <field-descriptor id="4"
        name="chaveDepartamento"
        column="KEY_DEPARTMENT"
        jdbc-type="INTEGER"
    />
      <reference-descriptor
         name="departamento"
         class-ref="Dominio.Departamento"
         proxy="true"
      >
         <foreignkey field-id-ref="4"/>
      </reference-descriptor>     
    
</class-descriptor>

   
<!-- Mapping of User defined classes ends here -->