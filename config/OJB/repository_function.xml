<!-- Definitions for net.sourceforge.fenixedu.domain.organizationalStructure.Function -->

<class-descriptor class="net.sourceforge.fenixedu.domain.organizationalStructure.Function" 
	table="FUNCTION">
	
	<field-descriptor 
         name="idInternal"
         column="ID_INTERNAL"
         jdbc-type="INTEGER"
         primarykey="true"
         autoincrement="true"
	/>
	<field-descriptor 
	   name="name"    
	   column="NAME"  
	   jdbc-type="VARCHAR"
    />
	<field-descriptor 
	   name="keyUnit"    
	   column="KEY_UNIT"  
	   jdbc-type="INTEGER"
    />
    <field-descriptor 
	   name="keyOldUnit"    
	   column="KEY_OLD_UNIT"  
	   jdbc-type="INTEGER"
    />
	<field-descriptor 
	   name="keyParentInherentFunction"    
	   column="KEY_INHERENT_PARENT_FUNCTION"  
	   jdbc-type="INTEGER"
    />
	<field-descriptor 
	   name="type"    
	   column="TYPE"  
	   jdbc-type="VARCHAR"
	   conversion="net.sourceforge.fenixedu.persistenceTier.Conversores.FunctionType2SqlFunctionTypeConversion"
    />
	<field-descriptor 
	   name="beginDate"    
	   column="BEGIN_DATE"  
	   jdbc-type="DATE"
    />
	<field-descriptor 	
	   name="endDate"    
	   column="END_DATE"  
	   jdbc-type="DATE"
    />
	
	<reference-descriptor auto-retrieve="false"
    	name="unit"
        class-ref="net.sourceforge.fenixedu.domain.organizationalStructure.Unit">
	    <foreignkey field-ref="keyUnit"/>
	</reference-descriptor>

	<reference-descriptor auto-retrieve="false"
    	name="oldUnit"
        class-ref="net.sourceforge.fenixedu.domain.organizationalStructure.newStructure.OldUnit">
	    <foreignkey field-ref="keyOldUnit"/>
	</reference-descriptor>

	<reference-descriptor auto-retrieve="false"
    	name="parentInherentFunction"
        class-ref="net.sourceforge.fenixedu.domain.organizationalStructure.Function">
	    <foreignkey field-ref="keyParentInherentFunction"/>
	</reference-descriptor>

	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
        name="inherentFunctions"
        element-class-ref="net.sourceforge.fenixedu.domain.organizationalStructure.Function">
		<inverse-foreignkey field-ref="keyParentInherentFunction"/>
    </collection-descriptor>	

	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
        name="personFunctions"
        element-class-ref="net.sourceforge.fenixedu.domain.organizationalStructure.PersonFunction">
		<inverse-foreignkey field-ref="keyFunction"/>
    </collection-descriptor>	

</class-descriptor>