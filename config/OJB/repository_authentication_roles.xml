
<!-- ***********************************
     Definitions for net.sourceforge.fenixedu.domain.Role 
     *********************************** -->
<class-descriptor class="net.sourceforge.fenixedu.domain.Role"
                  table="ROLE">
    <field-descriptor
        name="idInternal"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
        id="1"
    />

    <field-descriptor
        name="roleType"
        column="ROLE_TYPE"
        nullable = "false"
		conversion="net.sourceforge.fenixedu.persistenceTier.Conversores.JavaRoleType2SqlRoleTypeFieldConversion"
        jdbc-type="VARCHAR"
        id="2"
    />
    <field-descriptor 
        name="portalSubApplication"
        column="PORTAL_SUB_APPLICATION"
		nullable="true"
        jdbc-type="VARCHAR"
        id="3"
    />
    <field-descriptor 
        name="page"
        column="PAGE"
		nullable="true"
        jdbc-type="VARCHAR"
        id="3"
    />
    <field-descriptor 
        name="pageNameProperty"
        column="PAGE_NAME_PROPERTY"
		nullable="true"
        jdbc-type="VARCHAR"
        id="4"
    />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />
<!--
    <collection-descriptor
         name="rolePersons"
         element-class-ref="net.sourceforge.fenixedu.domain.Person"
         proxy="true"
         indirection-table = "PERSON_ROLE"
         auto-retrieve="true"
         auto-update="false"
         auto-delete="false"
      >
    	<fk-pointing-to-this-class  column="KEY_ROLE" />
    	<fk-pointing-to-element-class column="KEY_PERSON" />
    </collection-descriptor> 
-->
</class-descriptor>



<!-- ***********************************
     Definitions for net.sourceforge.fenixedu.domain.PersonRole 
     *********************************** -->
<class-descriptor class="net.sourceforge.fenixedu.domain.PersonRole"
                  table="PERSON_ROLE">
    <field-descriptor
        name="idInternal"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />

    <field-descriptor
        name="keyRole"
        column="KEY_ROLE"
        nullable = "false"
        jdbc-type="INTEGER"
    />
    <field-descriptor 
        name="keyPerson"
        column="KEY_PERSON"
		nullable="false"
        jdbc-type="INTEGER"
    />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />
      <reference-descriptor
         name="role"
         class-ref="net.sourceforge.fenixedu.domain.Role"
         proxy="false"
	  >
         <foreignkey field-ref="keyRole"/>
      </reference-descriptor>
      
     <reference-descriptor
         name="person"
         class-ref="net.sourceforge.fenixedu.domain.Person"
         proxy="false"
	  >
         <foreignkey field-ref="keyPerson"/>
      </reference-descriptor>

</class-descriptor>



<!-- Definitions for net.sourceforge.fenixedu.domain.Teacher -->
   <class-descriptor
   	  class="net.sourceforge.fenixedu.domain.Teacher"
   	  table="TEACHER">
   	  
      <field-descriptor
         name="idInternal"
         column="ID_INTERNAL"
         jdbc-type="INTEGER"
         primarykey="true"
         autoincrement="true"/>
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />      
      <field-descriptor
         name="teacherNumber"
         column="TEACHER_NUMBER"
         jdbc-type="INTEGER"/>

      <field-descriptor
         name="keyPerson"
         column="KEY_PERSON"
         jdbc-type="INTEGER"/>

      <reference-descriptor
         name="person"
         class-ref="net.sourceforge.fenixedu.domain.Person"
         proxy="false">
         <foreignkey field-ref="keyPerson"/>
      </reference-descriptor>       

	  <field-descriptor
         name="keyCategory"
         column="KEY_CATEGORY"
         jdbc-type="INTEGER"/>

      <reference-descriptor
         name="category"
         class-ref="net.sourceforge.fenixedu.domain.teacher.Category"
         proxy="false">
         <foreignkey field-ref="keyCategory"/>
      </reference-descriptor>     

	 <field-descriptor
         name="keyServiceProviderRegime"
         column="KEY_SERVICE_PROVIDER_REGIME"
         jdbc-type="INTEGER"/>

	<reference-descriptor
         name="serviceProviderRegime"
         class-ref="net.sourceforge.fenixedu.domain.teacher.ServiceProviderRegime"
         proxy="false">
         <foreignkey field-ref="keyServiceProviderRegime"/>
      </reference-descriptor>

	<field-descriptor
         name="keyPublicationsNumber"
         column="KEY_PUBLICATIONS_NUMBER"
         jdbc-type="INTEGER"/>

	<reference-descriptor
         name="publicationsNumber"
         class-ref="net.sourceforge.fenixedu.domain.teacher.PublicationsNumber"
         proxy="false">
         <foreignkey field-ref="keyPublicationsNumber"/>
      </reference-descriptor>

    <collection-descriptor
			name="teacherPublications"
			element-class-ref="net.sourceforge.fenixedu.domain.publication.PublicationTeacher"
			proxy="true"
			refresh="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
	</collection-descriptor>
	<collection-descriptor
         name="professorships"
         element-class-ref="net.sourceforge.fenixedu.domain.Professorship"
         auto-retrieve="true"
         refresh="true"
         proxy="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
    </collection-descriptor>    	
	<collection-descriptor
         name="institutionWorkTimePeriods"
         element-class-ref="net.sourceforge.fenixedu.domain.teacher.workTime.TeacherInstitutionWorkTime"
         auto-retrieve="true"
         refresh="true"
         proxy="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
    </collection-descriptor>    	
	<collection-descriptor
         name="degreeFinalProjectStudents"
         element-class-ref="net.sourceforge.fenixedu.domain.degree.finalProject.TeacherDegreeFinalProjectStudent"
         auto-retrieve="true"
         refresh="true"
         proxy="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
    </collection-descriptor>   
	<collection-descriptor
         name="otherTypeCreditLines"
         element-class-ref="net.sourceforge.fenixedu.domain.credits.OtherTypeCreditLine"
         auto-retrieve="true"
         refresh="true"
         proxy="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
    </collection-descriptor>  	 	
	<collection-descriptor
         name="managementPositions"
         element-class-ref="net.sourceforge.fenixedu.domain.credits.ManagementPositionCreditLine"
         auto-retrieve="true"
         refresh="true"
         proxy="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
    </collection-descriptor>  	 	
	<collection-descriptor
         name="serviceExemptionSituations"
         element-class-ref="net.sourceforge.fenixedu.domain.credits.ServiceExemptionCreditLine"
         auto-retrieve="true"
         refresh="true"
         proxy="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
    </collection-descriptor>  	 
    <collection-descriptor 
		name="associatedSummaries" 
		element-class-ref="net.sourceforge.fenixedu.domain.Summary"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
	</collection-descriptor>
    <collection-descriptor 
		name="coordinators" 
		element-class-ref="net.sourceforge.fenixedu.domain.Coordinator"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
	</collection-descriptor>
	<collection-descriptor 
		name="associatedResponsibles" 
		element-class-ref="net.sourceforge.fenixedu.domain.ResponsibleFor"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
	</collection-descriptor>
	<collection-descriptor 
		name="associatedGrantContractRegimes" 
		element-class-ref="net.sourceforge.fenixedu.domain.grant.contract.GrantContractRegime"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
	</collection-descriptor>
	<collection-descriptor 
		name="associatedGrantParts" 
		element-class-ref="net.sourceforge.fenixedu.domain.grant.contract.GrantPart"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyResponsibleTeacher"/>
	</collection-descriptor>
	<collection-descriptor 
		name="externalActivities" 
		element-class-ref="net.sourceforge.fenixedu.domain.teacher.ExternalActivity"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
	</collection-descriptor>
	<collection-descriptor 
		name="associatedProposalsByOrientator" 
		element-class-ref="net.sourceforge.fenixedu.domain.finalDegreeWork.Proposal"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyOrientator"/>
	</collection-descriptor>	
	<collection-descriptor 
		name="associatedOrientations" 
		element-class-ref="net.sourceforge.fenixedu.domain.teacher.Orientation"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
	</collection-descriptor>
	<collection-descriptor 
		name="associatedCareers" 
		element-class-ref="net.sourceforge.fenixedu.domain.teacher.Career"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
	</collection-descriptor>	
	<collection-descriptor 
		name="associatedGrantPaymentEntities" 
		element-class-ref="net.sourceforge.fenixedu.domain.grant.contract.GrantPaymentEntity"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyResponsibleTeacher"/>
	</collection-descriptor>
	<collection-descriptor 
		name="weeklyOcupations" 
		element-class-ref="net.sourceforge.fenixedu.domain.teacher.WeeklyOcupation"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
	</collection-descriptor>
	<collection-descriptor 
		name="oldPublication" 
		element-class-ref="net.sourceforge.fenixedu.domain.teacher.OldPublication"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
	</collection-descriptor>
	<collection-descriptor 
		name="associatedGrantOrientationTeachers" 
		element-class-ref="net.sourceforge.fenixedu.domain.grant.contract.GrantOrientationTeacher"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
	</collection-descriptor>
	<collection-descriptor 
		name="associatedProposalsByCoorientator" 
		element-class-ref="net.sourceforge.fenixedu.domain.finalDegreeWork.Proposal"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyCoorientator"/>
	</collection-descriptor>
	<collection-descriptor 
		name="oldInquiriesTeacherRes" 
		element-class-ref="net.sourceforge.fenixedu.domain.inquiries.OldInquiriesTeachersRes"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="keyTeacher"/>
	</collection-descriptor>
	<collection-descriptor 
		name="associatedTutors" 
		element-class-ref="net.sourceforge.fenixedu.domain.Tutor"
		proxy="true"
		refresh="true">
		<inverse-foreignkey field-ref="teacherKey"/>
	</collection-descriptor>
	<collection-descriptor
        	name="masterDegreeThesisGuider"
	        element-class-ref="net.sourceforge.fenixedu.domain.MasterDegreeThesisDataVersion"
    	    auto-retrieve="true"
        	proxy="true"
	        refresh="true"
         	auto-update="false"
         	auto-delete="false"
	        indirection-table="MASTER_DEGREE_THESIS_DATA_VERSION_GUIDER">

    	    <fk-pointing-to-this-class column="KEY_TEACHER"/>
        	<fk-pointing-to-element-class column="KEY_MASTER_DEGREE_THESIS_DATA_VERSION"/>
   	</collection-descriptor>
	<collection-descriptor
        	name="masterDegreeThesisAssistentGuider"
	        element-class-ref="net.sourceforge.fenixedu.domain.MasterDegreeThesisDataVersion"
    	    auto-retrieve="true"
        	proxy="true"
	        refresh="true"
         	auto-update="false"
         	auto-delete="false"
	        indirection-table="MASTER_DEGREE_THESIS_DATA_VERSION_GUIDER">

    	    <fk-pointing-to-this-class column="KEY_TEACHER"/>
        	<fk-pointing-to-element-class column="KEY_MASTER_DEGREE_THESIS_DATA_VERSION"/>
   	</collection-descriptor>
	<collection-descriptor
        	name="masterDegreeProofsJury"
	        element-class-ref="net.sourceforge.fenixedu.domain.MasterDegreeProofVersion"
    	    auto-retrieve="true"
        	proxy="true"
	        refresh="true"
         	auto-update="false"
         	auto-delete="false"
	        indirection-table="MASTER_DEGREE_PROOF_VERSION_JURY">

    	    <fk-pointing-to-this-class column="KEY_TEACHER"/>
        	<fk-pointing-to-element-class column="KEY_MASTER_DEGREE_PROOF_VERSION"/>
   </collection-descriptor> 
   </class-descriptor>