<!-- Definitions for net.sourceforge.fenixedu.domain.organizationalStructure.Unit -->

<class-descriptor class="net.sourceforge.fenixedu.domain.organizationalStructure.Unit" 
	table="UNIT">
	
	<field-descriptor id="1"
         name="idInternal"
         column="ID_INTERNAL"
         jdbc-type="INTEGER"
         primarykey="true"
         autoincrement="true"
	/>
	<field-descriptor id="2"
	    name="name"
	    column="NAME"
	    jdbc-type="VARCHAR"
	/>
	<field-descriptor id="3"
	   name="costCenterCode"    
	   column="COST_CENTER_CODE"  
	   jdbc-type="INTEGER"
    />
	<field-descriptor id="4"
	   name="keyDepartment"    
	   column="KEY_DEPARTMENT"  
	   jdbc-type="INTEGER"
    />
	<field-descriptor id="6" 
	   name="type"    
	   column="TYPE"  
	   jdbc-type="VARCHAR"
	   conversion="net.sourceforge.fenixedu.persistenceTier.Conversores.UnitType2SqlUnitTypeConversion"
    />
	<field-descriptor id="7"
	   name="beginDate"    
	   column="BEGIN_DATE"  
	   jdbc-type="DATE"
    />
	<field-descriptor id="8"	
	   name="endDate"    
	   column="END_DATE"  
	   jdbc-type="DATE"
    />
    <field-descriptor id="9"
	   name="keyDegree"    
	   column="KEY_DEGREE"  
	   jdbc-type="INTEGER"
    />

	<reference-descriptor auto-retrieve="false"
    	name="department"
        class-ref="net.sourceforge.fenixedu.domain.Department">
	    <foreignkey field-ref="keyDepartment"/>
	</reference-descriptor>
	
	<reference-descriptor auto-retrieve="false"
    	name="degree"
        class-ref="net.sourceforge.fenixedu.domain.Degree">
	    <foreignkey field-ref="keyDegree"/>
	</reference-descriptor>
	
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="parentUnits"
			element-class-ref="net.sourceforge.fenixedu.domain.organizationalStructure.Unit"
			indirection-table="UNIT_UNIT">
		<fk-pointing-to-element-class column="KEY_PARENT_UNIT" />
		<fk-pointing-to-this-class column="KEY_SUB_UNIT" />
	</collection-descriptor>
	
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			name="subUnits"
			element-class-ref="net.sourceforge.fenixedu.domain.organizationalStructure.Unit"
			indirection-table="UNIT_UNIT">
		<fk-pointing-to-element-class column="KEY_SUB_UNIT" />
		<fk-pointing-to-this-class column="KEY_PARENT_UNIT" />
	</collection-descriptor>
	
	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
        name="salaryContracts"
        element-class-ref="net.sourceforge.fenixedu.domain.Contract">
		<inverse-foreignkey field-ref="keySalaryUnit"/>
    </collection-descriptor>

	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
        name="mailingContracts"
        element-class-ref="net.sourceforge.fenixedu.domain.Contract">
		<inverse-foreignkey field-ref="keyMailingUnit"/>
     </collection-descriptor>

	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
        name="workingContracts"
        element-class-ref="net.sourceforge.fenixedu.domain.Contract">
		<inverse-foreignkey field-ref="keyWorkingUnit"/>
    </collection-descriptor>

	<collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
        name="functions"
        element-class-ref="net.sourceforge.fenixedu.domain.organizationalStructure.Function">
		<inverse-foreignkey field-ref="keyUnit"/>
    </collection-descriptor>
    
    <collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
        name="competenceCourses"
        element-class-ref="net.sourceforge.fenixedu.domain.CompetenceCourse">
		<inverse-foreignkey field-ref="keyUnit"/>
    </collection-descriptor>

    <collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
        name="externalPersons"
        element-class-ref="net.sourceforge.fenixedu.domain.ExternalPerson">
		<inverse-foreignkey field-ref="keyInstitutionUnit"/>
    </collection-descriptor>
    
     <collection-descriptor proxy="true" auto-retrieve="false" collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
        name="associatedNonAffiliatedTeachers"
        element-class-ref="net.sourceforge.fenixedu.domain.NonAffiliatedTeacher">
		<inverse-foreignkey field-ref="keyInstitutionUnit"/>
    </collection-descriptor>
    
</class-descriptor>


  
