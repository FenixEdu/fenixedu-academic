<!-- Please keep user defined mappings in this file only
     to avoid mixing user defined and system mappings. -->   
<!-- Mapping of User defined classes starts here -->


<!-- ******************************************************************************************************************************* -->
<!-- Definitions for Dominio.ExecutionPeriod -->
<!-- ******************************************************************************************************************************* -->
 <class-descriptor
         class="Dominio.ExecutionPeriod"
         table="EXECUTION_PERIOD"
    >
       <field-descriptor
          name="idInternal"
          column="ID_INTERNAL"
          jdbc-type="INTEGER"
          primarykey="true"
          autoincrement="true"
       />
       <field-descriptor
          name="name"
          column="NAME"
          jdbc-type="VARCHAR"/>
        <field-descriptor
          name="keyExecutionYear"
          column="KEY_EXECUTION_YEAR"
          jdbc-type="INTEGER"/>
          <field-descriptor
          name="keyPreviousExecutionPeriod"
          column="KEY_PREVIOUS_EXECUTION_PERIOD"
          jdbc-type="INTEGER"/>
        <field-descriptor
          name="state"
          column="STATE"
	      conversion="ServidorPersistente.Conversores.JavaPeriodState2SqlPeriodState"
          jdbc-type="VARCHAR"/>
        <field-descriptor
          name="semester"
          column="SEMESTER"
          jdbc-type="INTEGER"/>          
        <field-descriptor
          name="beginDate"
          column="BEGIN_DATE"
          jdbc-type="DATE"
          conversion="org.apache.ojb.broker.accesslayer.conversions.JavaDate2SqlDateFieldConversion"
          />
        <field-descriptor
          name="endDate"
          column="END_DATE"
          jdbc-type="DATE"
          conversion="org.apache.ojb.broker.accesslayer.conversions.JavaDate2SqlDateFieldConversion"
          />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />
        <reference-descriptor
          name="executionYear"
          class-ref="Dominio.ExecutionYear">
          <foreignkey field-ref="keyExecutionYear"/>
       </reference-descriptor>
       
       <reference-descriptor
         name="previousExecutionPeriod"
         class-ref="Dominio.ExecutionPeriod"
         proxy="true"
      >
         <foreignkey field-ref="keyPreviousExecutionPeriod"/>
      </reference-descriptor> 
    </class-descriptor> 



<!-- Definitions for Dominio.CursoExecucao -->
    <class-descriptor
         class="Dominio.CursoExecucao"
         table="EXECUTION_DEGREE"
    >
       <field-descriptor
          name="idInternal"
          column="ID_INTERNAL"
          jdbc-type="INTEGER"
          primarykey="true"
          autoincrement="true"
       />
       <field-descriptor
          name="academicYear"
          column="ACADEMIC_YEAR"
          jdbc-type="INTEGER"
       />
       <field-descriptor
          name="keyCurricularPlan"
          column="KEY_DEGREE_CURRICULAR_PLAN"
          jdbc-type="INTEGER"
       />
       <field-descriptor
          name="keyCampus"
          column="KEY_CAMPUS"
          jdbc-type="INTEGER"
       />
       <field-descriptor
          name="keyPeriodLessonsFirstSemester"
          column="KEY_LESSONS_ONE"
          jdbc-type="INTEGER"
       />
       <field-descriptor
          name="keyPeriodExamsFirstSemester"
          column="KEY_EXAMS_ONE"
          jdbc-type="INTEGER"
       />
       <field-descriptor
          name="keyPeriodLessonsSecondSemester"
          column="KEY_LESSONS_TWO"
          jdbc-type="INTEGER"
       />
       <field-descriptor
          name="keyPeriodExamsSecondSemester"
          column="KEY_EXAMS_TWO"
          jdbc-type="INTEGER"
       />
       <field-descriptor
          name="temporaryExamMap"
          column="TEMPORARY_EXAM_MAP"
          jdbc-type="BIT"
       />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />
       <reference-descriptor
          name="executionYear"
          class-ref="Dominio.ExecutionYear"
       >
          <foreignkey field-ref="academicYear"/>
       </reference-descriptor>
       <reference-descriptor
          name="curricularPlan"
          class-ref="Dominio.DegreeCurricularPlan"          
       >
          <foreignkey field-ref="keyCurricularPlan"/>
       </reference-descriptor>
       <reference-descriptor
          name="campus"
          class-ref="Dominio.Campus"
       >
          <foreignkey field-ref="keyCampus"/>
       </reference-descriptor>       

       <reference-descriptor
          name="periodLessonsFirstSemester"
          class-ref="Dominio.Period"
       >
          <foreignkey field-ref="keyPeriodLessonsFirstSemester"/>
       </reference-descriptor>
       <reference-descriptor
          name="periodExamsFirstSemester"
          class-ref="Dominio.Period"
       >
          <foreignkey field-ref="keyPeriodExamsFirstSemester"/>
       </reference-descriptor>
       <reference-descriptor
          name="periodLessonsSecondSemester"
          class-ref="Dominio.Period"
       >
          <foreignkey field-ref="keyPeriodLessonsSecondSemester"/>
       </reference-descriptor>
       <reference-descriptor
          name="periodExamsSecondSemester"
          class-ref="Dominio.Period"
       >
          <foreignkey field-ref="keyPeriodExamsSecondSemester"/>
       </reference-descriptor>
       
	   <collection-descriptor
				name="coordinatorsList"
				element-class-ref="Dominio.Coordinator"
				refresh="true"
				auto-retrieve="true"
				auto-update="false"
				auto-delete="false"
				proxy="true">
			<inverse-foreignkey field-ref="keyExecutionDegree"/>
	   </collection-descriptor>             
    </class-descriptor> 


<!-- ************************************************************************************************************ -->
<!-- Definitions for Dominio.ExecutionCourse -->
<!-- ************************************************************************************************************ -->
<class-descriptor class="Dominio.ExecutionCourse" proxy="dynamic" table="EXECUTION_COURSE">
	<field-descriptor
		name="idInternal"
		column="ID_INTERNAL"
		jdbc-type="INTEGER"
		primarykey="true"
		autoincrement="true"
	/>
	<field-descriptor
		name="nome"
		column="NAME"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="sigla"
		column="CODE"
		jdbc-type="VARCHAR"
	/>
	<field-descriptor
		name="theoreticalHours"
		column="THEORETICAL_HOURS"
		jdbc-type="DOUBLE"
	/>
	<field-descriptor
		name="praticalHours"
		column="PRATICAL_HOURS"
		jdbc-type="DOUBLE"
	/>
	<field-descriptor
		name="theoPratHours"
		column="THEO_PRAT_HOURS"
		jdbc-type="DOUBLE"
	/>
	<field-descriptor
		name="labHours"
		column="LAB_HOURS"
		jdbc-type="DOUBLE"
	/>
	<field-descriptor
		name="keyExecutionPeriod"
		column="KEY_EXECUTION_PERIOD"
		jdbc-type="INTEGER"
	/>
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />
	<reference-descriptor
			name="executionPeriod"
			class-ref="Dominio.ExecutionPeriod" 
			proxy="false">
		<foreignkey field-ref="keyExecutionPeriod"/>
	</reference-descriptor>
	  <field-descriptor
		 name="comment"
         column="COMMENT"
        jdbc-type="LONGVARCHAR"
	  />	
	<collection-descriptor
			name="associatedCurricularCourses"
			element-class-ref="Dominio.CurricularCourse"
  		    collection-class="org.apache.ojb.broker.util.collections.ManageableVector"
			indirection-table="CURRICULAR_COURSE_EXECUTION_COURSE"
			auto-retrieve="true"
			refresh="true"
			proxy="true">
		<fk-pointing-to-this-class column="KEY_EXECUTION_COURSE"/>
		<fk-pointing-to-element-class column="KEY_CURRICULAR_COURSE"/>
	</collection-descriptor>
	<collection-descriptor
			name="associatedExams"
			element-class-ref="Dominio.Exam"
			indirection-table="EXAM_EXECUTION_COURSE"
			refresh="true"
			auto-retrieve="true"
			auto-update="false"
			auto-delete="false"
			proxy="true"
			>
		<fk-pointing-to-this-class column="KEY_EXECUTION_COURSE"/>
		<fk-pointing-to-element-class column="KEY_EVALUATION"/>
	</collection-descriptor>
	<collection-descriptor
			name="associatedEvaluations"
			element-class-ref="Dominio.Evaluation"
			indirection-table="EXAM_EXECUTION_COURSE"
			refresh="true"
			auto-retrieve="true"
			auto-update="false"
			auto-delete="false"
			proxy="true"
			>
		<fk-pointing-to-this-class column="KEY_EXECUTION_COURSE"/>
		<fk-pointing-to-element-class column="KEY_EVALUATION"/>
	</collection-descriptor>	
    <collection-descriptor
			name="attendingStudents"
			element-class-ref="Dominio.Student"
			indirection-table="ATTEND"
			refresh="true"
			auto-retrieve="true"
			auto-update="false"
			auto-delete="false"
			proxy="true"
			>
		<fk-pointing-to-this-class column="KEY_EXECUTION_COURSE"/>
		<fk-pointing-to-element-class column="KEY_STUDENT"/>
	</collection-descriptor>

	<collection-descriptor
		name="executionCourseProperties"
		element-class-ref="Dominio.classProperties.ExecutionCourseProperty"
		refresh="true"
		auto-retrieve="true"
		auto-update="false"
		auto-delete="false"
		proxy="true">
		<inverse-foreignkey field-ref="keyExecutionCourse"/>
	</collection-descriptor>             
</class-descriptor>

<!-- ************************************************************************************************************ -->
<!-- Definitions for Dominio.Country -->
<!-- ************************************************************************************************************ -->
<class-descriptor class="Dominio.Country"
                  table="COUNTRY">
    <field-descriptor
        name="idInternal"
        column="ID_INTERNAL"
        jdbc-type="INTEGER"
        primarykey="true"
        autoincrement="true"
    />
    <field-descriptor
        name="name"
        column="NAME"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="nationality"
        column="NATIONALITY"
        jdbc-type="VARCHAR"
    />
    <field-descriptor
        name="code"
        column="CODE"
        jdbc-type="VARCHAR"
    />
      <field-descriptor
      	name="ackOptLock"
      	column="ACK_OPT_LOCK"
      	jdbc-type="INTEGER"
      	locking="true"
      />
</class-descriptor>
<!-- Mapping of User defined classes ends here -->