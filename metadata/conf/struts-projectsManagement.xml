<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC       
	  "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN"
      "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>

	<data-sources/>

  <!-- ========== Form Bean Definitions =================================== -->
	<form-beans type="org.apache.struts.action.ActionFormBean">
		<form-bean name="rubricForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
	    	<form-property name="rubric" type="java.lang.String" />
	    	<form-property name="reportType" type="java.lang.String" />
	    	<form-property name="projectCode" type="java.lang.String" />
	    </form-bean>
    </form-beans>

    <!-- ========== Global Exception Definitions ============================== -->
	<global-exceptions>
        <exception
			type="java.lang.Exception"
			key="error.Exception"
            handler="ServidorApresentacao.config.FenixContainerExceptionHandler"
			/>
		<exception
			type="ServidorAplicacao.Servico.exceptions.NotAuthorizedException"
			key="error.NotAuthorized"
			handler="ServidorApresentacao.config.FenixContainerExceptionHandler"
			/>
	</global-exceptions>

  <!-- ========== Global Forward Definitions ============================== -->
  <global-forwards type="org.apache.struts.action.ActionForward">
    <forward name="logoff" path="/logoff.do" contextRelative="true"/>
  </global-forwards>

  <!-- ========== Action Mapping Definitions ============================== -->
  <action-mappings type="org.apache.struts.action.ActionMapping">
    <action path="/index" forward="/index.jsp"/>
    <action path="/switchAction" type="org.apache.struts.actions.SwitchAction"/>
    <action path="/projectReport" type="ServidorApresentacao.Action.projectsManagement.ProjectReportsAction" 
        parameter="method" scope="request"  validate="true" name="rubricForm" >
        <forward name="index" path="df.page.projectManager"/>
        <forward name="projectList" path="project-List"/>
		<forward name="showsummaryReport" path="show-Summary-Report"/>
		<forward name="showexpensesReport" path="show-Expenses-Report"/>
		<forward name="showrevenueReport" path="show-Revenue-Report"/>
		<forward name="helpPage" path="help-Page"/>
		<forward name="printexpensesReport" path="/printExpensesReport.jsp"/>
		<forward name="printrevenueReport" path="/printRevenueReport.jsp"/>
		<forward name="printsummaryReport" path="/printSummaryReport.jsp"/>
    </action>
  </action-mappings>
  
  <!-- ========== Controller Configuration ================================ -->
    <controller processorClass="ServidorApresentacao.processor.FenixRequestProcessorWithTiles"/>
    <!-- ========== Message Resources Definitions ============================ -->
    <message-resources parameter="ServidorApresentacao.ProjectsManagementResources" null="false"/>
    <!-- ========== Plug Ins Configuration ================================= -->
    <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
        <set-property property="pathnames" 
            value="/WEB-INF/validator-rules.xml,/WEB-INF/fenix-validator-rules.xml"/>
    </plug-in>
    <plug-in className="org.apache.struts.tiles.TilesPlugin" >
        <set-property property="definitions-config" 
            value="/WEB-INF/tiles/layouts/tiles-layout-definitions.xml,/WEB-INF/tiles/projectsManagement/tiles-projectsManagement-definitions.xml,/WEB-INF/tiles/projectsManagement/tiles-projectsManagement-pages-definitions.xml" 
            />
        <set-property property="moduleAware" value="true" />
        <set-property property="definitions-parser-validate" value="true" />
    </plug-in>
</struts-config>