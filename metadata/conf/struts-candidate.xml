<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC
      "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN"
      "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>
    
    <!-- ========== Data Source Configuration =============================== -->
    <data-sources />
    
    <!-- ========== Form Bean Definitions ================================== -->
    <form-beans type="org.apache.struts.action.ActionFormBean">
      
      <!-- Dynamic-FormBean para Autorizacao -->
      <form-bean name="authenticationForm" 
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="username" type="java.lang.String" />
        <form-property name="password" type="java.lang.String" />
      </form-bean>

      <form-bean name="errorMailForm" 
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="email" type="java.lang.String" />
        <form-property name="subject" type="java.lang.String" />
        <form-property name="body" type="java.lang.String" />
      </form-bean>

      <!-- Bean for change of Application Information -->
      <form-bean name="changeApplicationInfoForm" 
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        
	<form-property name="identificationDocumentType" type="java.lang.String" />
	<form-property name="identificationDocumentNumber" type="java.lang.String" />
	<form-property name="identificationDocumentIssuePlace" type="java.lang.String" />		
	<form-property name="name" type="java.lang.String" />
	<form-property name="sex" type="java.lang.String" />
	<form-property name="maritalStatus" type="java.lang.String" />
	<form-property name="specialization" type="java.lang.String" />
	<form-property name="nationality" type="java.lang.String" />
	<form-property name="average" type="java.lang.String" />
 	<form-property name="country" type="java.lang.String" />
	<form-property name="candidateNumber" type="java.lang.Integer" />
	<form-property name="applicationYear" type="java.lang.String" />
	<form-property name="degreeName" type="java.lang.String" />
	<form-property name="degreeCode" type="java.lang.String" />
	<form-property name="password" type="java.lang.String" />
	<form-property name="majorDegree" type="java.lang.String" />
	<form-property name="majorDegreeSchool" type="java.lang.String" />
	<form-property name="majorDegreeYear" type="java.lang.Integer" />
	<form-property name="fatherName" type="java.lang.String" />
	<form-property name="motherName" type="java.lang.String" />
	<form-property name="birthPlaceParish" type="java.lang.String" />
	<form-property name="birthPlaceMunicipality" type="java.lang.String" />
	<form-property name="birthPlaceDistrict" type="java.lang.String" />
	<form-property name="address" type="java.lang.String" />
	<form-property name="place" type="java.lang.String" />
	<form-property name="postCode" type="java.lang.String" />
	<form-property name="addressParish" type="java.lang.String" />
	<form-property name="addressMunicipality" type="java.lang.String" />
	<form-property name="addressDistrict" type="java.lang.String" />
	<form-property name="telephone" type="java.lang.String" />
	<form-property name="mobilePhone" type="java.lang.String" />
	<form-property name="email" type="java.lang.String" />
	<form-property name="webSite" type="java.lang.String" />
	<form-property name="contributorNumber" type="java.lang.String" />
	<form-property name="occupation" type="java.lang.String" />
	<form-property name="birthDay" type="java.lang.String" /> 
    <form-property name="birthMonth" type="java.lang.String" /> 
	<form-property name="birthYear" type="java.lang.String" /> 
	<form-property name="idIssueDateDay" type="java.lang.String" /> 
    <form-property name="idIssueDateMonth" type="java.lang.String" /> 
	<form-property name="idIssueDateYear" type="java.lang.String" /> 
 
      </form-bean>

    </form-beans>
    
    <!-- ========== Global Exception Definitions ============================== -->
    <global-exceptions>
		<exception type="java.lang.Exception"
			       key="java.lang.Exception"
			       path="/naoExecutado.do"
			       handler="ServidorApresentacao.config.FenixExceptionHandler"/>
		<exception type="ServidorAplicacao.NotAuthorizedException"
			       key="ServidorAplicacao.NotAuthorizedException"
			       path="/naoAutorizado.do"
			       />
		<exception type="ServidorAplicacao.FenixServiceException"
		  	       key="ServidorAplicacao.FenixServiceException"
		  	       path="/naoExecutado.do"
		  	       handler="ServidorApresentacao.config.FenixExceptionHandler" />
    </global-exceptions>
    
    <!-- ========== Global Forward Definitions =============================== -->
    <global-forwards type="org.apache.struts.action.ActionForward">
	  <forward name="index" path="index.do" redirect="true"/>
          <forward name="Candidate" path="/indexCand.jsp"
                   contextRelative="true" redirect="true" />
    </global-forwards>
    
    <!-- ========== Action Mapping Definitions =============================== -->
    <action-mappings type="org.apache.struts.action.ActionMapping">
      <!-- page fronting actions -->
      <action path="/index" forward="/autenticacaoCand.jsp"/>
      <action path="/authentication" forward="/autenticacaoCand.jsp"/>
      <action path="/naoExecutado" forward="/error.jsp"/>
      

      <!-- action definition -->
      <action name="authenticationForm"
              type="ServidorApresentacao.Action.masterDegree.candidate.AuthenticationFormAction"
              path="/authenticationForm"
              input="/autenticacaoCand.jsp"
              scope="request"
              attribute="authenticationForm">
        <exception type="ServidorAplicacao.NotExecutedException"
                   key="ServidorAplicacao.NotExecutedException"
                   path="/authentication.do"/>
        <exception type="ServidorAplicacao.Servico.ExcepcaoAutenticacao"
                   key="ServidorAplicacao.Servico.ExcepcaoAutenticacao"
                   path="/logonUnsuccessful.jsp"/>
        <forward name="Candidate" path="/candidato/indexCand.jsp" contextRelative="true" redirect="true"/>
      </action>
	
      <!-- Action for Visualization Of the Candidate's Application Information -->
      <action path="/visualizeApplicationInfo"
      	      type="ServidorApresentacao.Action.masterDegree.candidate.VisualizeApplicationInfoAction">
      	  <forward name="Success" path="/visualizeApplicationInfo.jsp"/>      	      
      </action>

      <!-- Action For LogOff -->
      <action path="/logoff"
      	      type="ServidorApresentacao.Action.commons.LogOffAction">
      	  <forward name="Success" path="/index.do"/>      	      
      </action>
      
      <!-- Action to Prepare the Change of the Candidate's Application Information -->
      <action path="/changeApplicationInfo"
	      attribute="changeApplicationInfoForm"
	      name="changeApplicationInfoForm"
	      validate="false"
              scope="request"
      	      type="ServidorApresentacao.Action.masterDegree.candidate.PrepareApplicationInfoChangeFormAction">
      	  <forward name="Success" path="/changeApplicationInfo.jsp"/>
      	  <forward name="Unchangeable" path="/changeUnsuccess.jsp"/>
      </action>

      <!-- Action to Change Candidate's Application Information -->
      <action path="/changeApplicationInfoForm"
      	      attribute="changeApplicationInfoForm"
      	      name="changeApplicationInfoForm"
              type="ServidorApresentacao.Action.masterDegree.candidate.ChangeCandidateApplicationFormAction"
              input="/changeApplicationInfo.jsp"
              scope="request">
        <forward name="Success" path="/changeSuccess.jsp"/>
      </action>


      	<!-- ExceptionHandling -->   
      <action parameter="method"
              name="errorMailForm" 
              path="/exceptionHandling"
              scope="request"
              type="ServidorApresentacao.Action.ExceptionHandlingAction"     
              >
      </action>


    </action-mappings>
    
    <!-- ========== Controller Configuration ================================ -->
    <controller />
    
    <!-- ========== Message Resources Definitions ============================ -->
    <message-resources parameter="ServidorApresentacao.ApplicationResources" />
    
    <!-- ========== Plug Ins Configuration ================================= -->
    <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
      <set-property property="pathnames" 
                    value="/WEB-INF/validator-rules.xml,/WEB-INF/conf/validation-candidate.xml"/>
    </plug-in>
    
</struts-config>

