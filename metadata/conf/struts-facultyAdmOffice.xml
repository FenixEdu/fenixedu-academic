<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE struts-config PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 1.1//EN"
	"http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>
 
		<!-- ========== Data Source Configuration =============================== -->
	
		<!-- ========== Form Bean Definitions ================================== -->
		<form-beans type="org.apache.struts.action.ActionFormBean">

			<form-bean name="voidForm" 
				type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
				<!-- Empty Form -->
			</form-bean>
		
			<form-bean name="teacherSearchForm" 
				type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
				<form-property name="teacherNumber" type="java.lang.String"/>
				<form-property name="page" type="java.lang.Integer" initial="0"/>
			</form-bean>
			
			<form-bean name="searchGrantOwnerForm" 
				type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
				<!-- Values of search by name and/or identification document -->
				<form-property name="name" type="java.lang.String"/>
				<form-property name="idNumber" type="java.lang.String"/>
				<form-property name="idType" type="java.lang.Integer"/>
				<form-property name="page" type="java.lang.Integer"/>
			</form-bean>
			
			<form-bean name="searchGrantOwnerByNumberForm" 
				type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
				<!-- Value of search by Grant Owner Number -->
				<form-property name="idGrantOwner" type="java.lang.String"/>
				<form-property name="page" type="java.lang.Integer"/>
			</form-bean>
			
			<form-bean name="editGrantOwnerForm" 
				type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
				<!-- Grant Owner values -->
				<form-property name="idGrantOwner" type="java.lang.String"/>
				<form-property name="grantOwnerNumber" type="java.lang.String"/>
				<form-property name="cardCopyNumber" type="java.lang.String"/>
				<form-property name="dateSendCGD" type="java.lang.String"/>
				<!-- Person Grant Owner Values -->
				<form-property name="idInternalPerson" type="java.lang.String"/>
				<form-property name="idNumber" type="java.lang.String"/>				
				<form-property name="idLocation" type="java.lang.String"/>				
				<form-property name="idDate" type="java.lang.String"/>				
				<form-property name="idValidDate" type="java.lang.String"/>				
				<form-property name="name" type="java.lang.String"/>
				<form-property name="birthdate" type="java.lang.String"/>				
				<form-property name="fatherName" type="java.lang.String"/>				
				<form-property name="motherName" type="java.lang.String"/>				
				<form-property name="nationality" type="java.lang.String"/>												
				<form-property name="parishOfBirth" type="java.lang.String"/>				
				<form-property name="districtSubBirth" type="java.lang.String"/>				
				<form-property name="districtBirth" type="java.lang.String"/>				
				<form-property name="address" type="java.lang.String"/>				
				<form-property name="area" type="java.lang.String"/>				
				<form-property name="areaCode" type="java.lang.String"/>				
				<form-property name="areaOfAreaCode" type="java.lang.String"/>				
				<form-property name="addressParish" type="java.lang.String"/>				
				<form-property name="addressDistrictSub" type="java.lang.String"/>				
				<form-property name="addressDistrict" type="java.lang.String"/>				
				<form-property name="phone" type="java.lang.String"/>												
				<form-property name="cellphone" type="java.lang.String"/>				
				<form-property name="email" type="java.lang.String"/>				
				<form-property name="homepage" type="java.lang.String"/>				
				<form-property name="socialSecurityNumber" type="java.lang.String"/>				
				<form-property name="profession" type="java.lang.String"/>				
				<form-property name="personUsername" type="java.lang.String"/>
				<form-property name="password" type="java.lang.String"/>	
				<form-property name="fiscalCode" type="java.lang.String"/>								
				<form-property name="idType" type="java.lang.Integer"/>								
				<form-property name="sex" type="java.lang.Integer"/>								
				<form-property name="maritalStatus" type="java.lang.Integer"/>	
				<form-property name="country" type="java.lang.Integer"/>
				<!-- Method property-->
				<form-property name="page" type="java.lang.Integer" initial="0"/>
			</form-bean>
			
			<form-bean name="editGrantContractForm" 
				type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
				<form-property name="idInternal" type="java.lang.Integer"/>
				<form-property name="contractNumber" type="java.lang.String"/>
				<form-property name="dateBeginContract" type="java.lang.String"/>
				<form-property name="dateEndContract" type="java.lang.String"/>
				<form-property name="endContractMotive" type="java.lang.String"/>
				<form-property name="grantType" type="java.lang.String"/>
				<form-property name="grantResponsibleTeacher" type="java.lang.String"/>
				<form-property name="grantResponsibleTeacherIdInternal" type="java.lang.Integer"/>
				<form-property name="grantOrientationTeacher" type="java.lang.String"/>
				<form-property name="grantOrientationTeacherIdInternal" type="java.lang.Integer"/>
				<form-property name="idGrantContract" type="java.lang.Integer"/>
				<form-property name="page" type="java.lang.Integer" initial="0"/>
			</form-bean>
			
			
    </form-beans>

	 <!-- ========== Global Exception Definitions ============================== -->
	<global-exceptions>
		<exception type="ServidorAplicacao.NotAuthorizedException"
			       key="ServidorAplicacao.NotAuthorizedException"
			       path="/naoAutorizado.do"
			       handler="ServidorApresentacao.config.FenixExceptionHandler"/>
		<exception type="ServidorAplicacao.NotExecutedException"
		  	       key="ServidorAplicacao.NotExecutedException"
		  	       path="/naoExecutado.do"
		  	       handler="ServidorApresentacao.config.FenixExceptionHandler" />		  	       
		<exception type="ServidorAplicacao.Servico.ExcepcaoInexistente"
			       key="ServidorAplicacao.Servico.ExcepcaoInexistente"
			       path="/naoExistente.do"
			       handler="ServidorApresentacao.config.FenixExceptionHandler" />
		<exception type="ServidorAplicacao.FenixServiceException"
		  	       key="ServidorAplicacao.FenixServiceException"
		  	       path="/naoExecutado.do"
		  	       handler="ServidorApresentacao.config.FenixExceptionHandler" />
	</global-exceptions>

	<!-- ========== Global Forward Definitions =============================== -->
	<global-forwards type="org.apache.struts.action.ActionForward">
    </global-forwards>

	<!-- ========== Action Mapping Definitions =============================== -->
	<action-mappings type="org.apache.struts.action.ActionMapping">
    	<action path="/index" type="ServidorApresentacao.Action.commons.VoidAction" name="voidForm">
    		<forward name="Success" path="index"/>
    	</action>
	   	<action path="/teacherSearch" input="search-teacher-form" name="teacherSearchForm" scope="request"
	   			parameter="method"
	   			type="ServidorApresentacao.Action.framework.SearchAction"
	   			className="ServidorApresentacao.mapping.framework.SearchActionMapping">
			<set-property property="serviceName" value="FindTeachersService"/>
  			<set-property property="objectAttribute" value="infoTeacher"/>
  			<set-property property="listAttribute" value="infoTeacherList"/>
   			<set-property property="notFoundMessageKey" value="errors.teacher.not.found"/>
   			<forward name="search-form" path="teacher-search-form"/>
  			<forward name="list-one" path="view-teacher-credits-sheet"/> 
    		<forward name="list-many" path="view-teachers-for-credits-sheet"/>
    	</action>



    <!-- ===================== USE CASE: SEARCH GRANT OWNER ============================== -->
	<action path="/searchGrantOwner" 
			input="/searchGrantOwner.do?page=0&amp;method=searchForm"
			name="searchGrantOwnerForm" 
			scope="request"
   			parameter="method"
   			type="ServidorApresentacao.Action.grant.owner.SearchGrantOwnerAction"
     		validate="true"
   			className="ServidorApresentacao.mapping.framework.SearchActionMapping">
			<set-property property="serviceName" value="SearchGrantOwner"/>
  			<set-property property="objectAttribute" value="infoGrantOwner"/>
  			<set-property property="listAttribute" value="infoGrantOwnerList"/>
   			<set-property property="notFoundMessageKey" value="errors.person.not.found"/>
   			<forward name="search-form" path="searchGrantOwnerForm"/>
  			<forward name="list-one" path="searchGrantOwnerResult"/> 
    		<forward name="list-many" path="searchGrantOwnerResult"/>
    </action>
    
    <!-- ===================== USE CASE: SEARCH GRANT OWNER BY NUMBER ============================== -->
	<action path="/searchGrantOwnerByNumber" 
			input="/searchGrantOwner.do?page=0&amp;method=searchForm"
			name="searchGrantOwnerByNumberForm" 
			scope="request"
   			parameter="method"
		    validate="true"
   			type="ServidorApresentacao.Action.grant.owner.SearchGrantOwnerByNumberAction">
   			<forward name="search-succesfull" path="searchGrantOwnerResult"/>
   			<forward name="search-unSuccesfull" path="/searchGrantOwner.do?page=0&amp;method=searchForm"/>
    </action>
	
    <!-- ===================== USE CASE: EDIT GRANT OWNER ============================== -->
	<action path="/editGrantOwner" 
			input="/editGrantOwner.do?page=0&amp;method=prepareEditGrantOwnerForm" 
			name="editGrantOwnerForm" 
			scope="request"
   			parameter="method"
   			type="ServidorApresentacao.Action.grant.owner.EditGrantOwnerAction">
   			<forward name="edit-grant-owner-form" path="editGrantOwnerForm"/>
   			<forward name="grant-owner-main" path="searchGrantOwnerForm"/>
  			<forward name="manage-grant-owner" path="/manageGrantOwner.do?method=prepareManageGrantOwnerForm"/> 
    </action>


    <!-- ===================== USE CASE: MANAGE GRANT OWNER ============================== -->
	<action path="/manageGrantOwner" 
			input="/editGrantOwner.do?page=0&amp;method=prepareManageGrantOwnerForm" 
			name="voidForm" 
			scope="request"
   			parameter="method"
   			type="ServidorApresentacao.Action.grant.owner.ManageGrantOwnerAction">
  			<forward name="manage-grant-owner" path="manageGrantOwner"/> 
    </action>

    <!-- ===================== USE CASE: EDIT GRANT CONTRACT ============================== -->
	<action path="/editGrantContract" 
			input="/editGrantContract.do?page=0&amp;method=prepareEditGrantContractForm" 
			name="editGrantContractForm" 
			scope="request"
   			parameter="method"
   			type="ServidorApresentacao.Action.grant.contract.EditGrantContractAction">
  			<forward name="edit-grant-contract" path="editGrantContractForm"/>
  			<forward name="manage-grant-owner" path="/manageGrantOwner.do?method=prepareManageGrantOwnerForm"/>
  			<forward name="search-main-page" path="/searchGrantOwner.do?page=0&amp;method=searchForm"/>
    </action>
    <!-- ================================================================================= -->


    <!-- ================================================================================= -->
	</action-mappings>

	<!-- ========== Controller Configuration ================================ -->
    <controller processorClass="ServidorApresentacao.processor.FenixRequestProcessorWithTiles"/>

	<!-- ========== Message Resources Definitions ============================ -->
	<message-resources parameter="ServidorApresentacao.FacultyAdmOfficeResources" null="false"/>

	<!-- ========== Plug Ins Configuration ================================= -->
			
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
      <set-property property="pathnames" 
		value="/WEB-INF/validator-rules.xml,/WEB-INF/fenix-validator-rules.xml,/WEB-INF/conf/validation-facultyAdmOffice.xml"/>
	</plug-in>
	    <plug-in className="org.apache.struts.tiles.TilesPlugin" >
		<set-property property="definitions-config"
					  value="/WEB-INF/tiles/layouts/tiles-layout-definitions.xml,/WEB-INF/tiles/facultyAdmOffice/tiles-facultyAdmOffice-definitions.xml,/WEB-INF/tiles/facultyAdmOffice/tiles-facultyAdmOffice-pages-definitions.xml" />
		<set-property property="moduleAware" value="true" />
		<set-property property="definitions-parser-validate" value="true" />
	</plug-in>    

</struts-config>
