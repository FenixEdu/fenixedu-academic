<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>

	<!-- ==================================================================== -->
	<!-- ========== DATA SOURCE CONFIGURATION =============================== -->
	<!-- ==================================================================== -->
	<data-sources/>

	<!-- ==================================================================== -->
	<!-- ========== FORM BEAN DEFINITIONS =================================== -->
	<!-- ==================================================================== -->
	<form-beans type="org.apache.struts.action.ActionFormBean">

		<form-bean name="studentNumberForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="method" type="java.lang.String"/>
			<form-property name="page" type="java.lang.Integer" initial="0"/>
			<form-property name="degreeType" type="java.lang.String"/>
			<form-property name="studentNumber" type="java.lang.String"/>
			<form-property name="backLink" type="java.lang.String"/>
		</form-bean>

		<form-bean name="selectStudentCurricularPlansForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="method" type="java.lang.String"/>
			<form-property name="page" type="java.lang.Integer" initial="0"/>
			<form-property name="degreeType" type="java.lang.String"/>
			<form-property name="studentNumber" type="java.lang.String"/>
			<form-property name="backLink" type="java.lang.String"/>
			<form-property name="fromStudentCurricularPlanID" type="java.lang.Integer"/>
			<form-property name="toStudentCurricularPlanID" type="java.lang.Integer"/>
		</form-bean>

		<form-bean name="enrollmentEquivalenceFrom" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="method" type="java.lang.String"/>
			<form-property name="page" type="java.lang.Integer" initial="0"/>
			<form-property name="degreeType" type="java.lang.String"/>
			<form-property name="studentNumber" type="java.lang.String"/>
			<form-property name="backLink" type="java.lang.String"/>
			<form-property name="fromStudentCurricularPlanID" type="java.lang.Integer"/>
			<form-property name="toStudentCurricularPlanID" type="java.lang.Integer"/>
			<form-property name="curricularCoursesToGiveEquivalence" type="java.lang.Integer[]"/>
			<form-property name="curricularCoursesToGetEquivalence" type="java.lang.Integer[]"/>
		</form-bean>

	</form-beans>

	<!-- ==================================================================== -->
    <!-- ========== GLOBAL EXCEPTION DEFINITIONS ============================ -->
	<!-- ==================================================================== -->
	<global-exceptions>
        <exception	type="java.lang.Exception"
        			key="error.Exception"
        			handler="net.sourceforge.fenixedu.presentationTier.config.FenixContainerExceptionHandler"/>

		<exception	type="net.sourceforge.fenixedu.applicationTier.Servico.exceptions.NotAuthorizedException"
					key="error.NotAuthorized"
					handler="net.sourceforge.fenixedu.presentationTier.config.FenixContainerExceptionHandler"/>
	</global-exceptions>

	<!-- ==================================================================== -->
	<!-- ========== GLOBAL FORWARD DEFINITIONS ============================== -->
	<!-- ==================================================================== -->
	<global-forwards type="org.apache.struts.action.ActionForward">
		<forward name="logoff" path="/logoff.do" contextRelative="true"/>
		<forward name="index" path="/index.do" redirect="true"/>
		<forward name="backToDegreeAdministrativeOfficeHome" path="/degreeAdministrativeOffice/index.do" contextRelative="true"/>
		<forward name="backToMasterDegreeAdministrativeOfficeHome" path="/posGraduacao/index.do" contextRelative="true"/>
		<forward name="backToCoordinatorHome" path="/coordinator/index.do" contextRelative="true"/>
	</global-forwards>

	<!-- ==================================================================== -->
	<!-- ========== ACTION MAPPING DEFINITIONS ============================== -->
	<!-- ==================================================================== -->
	<action-mappings type="org.apache.struts.action.ActionMapping">

		<!-- Page Fronting Actions -->
		<action path="/home" forward="/switchAction.do?prefix=&amp;page=/mainPortalPage.jsp"/>
		<action path="/switchAction" type="org.apache.struts.actions.SwitchAction"/>
		<!-- ===================== -->


		<!-- Other Actions -->
		<action	path="/equivalence"
				type="net.sourceforge.fenixedu.presentationTier.Action.equivalence.PrepareAplicationContextForEnrollmentEquivalenceAction">
			<forward name="enrollmentEquivalenceForDegreeAdministratorOffice" path="df.page.chooseStudentForDegreeAdministrativeOfficeEnrollmentEquivalence"/>
			<forward name="enrollmentEquivalenceForMasterDegreeAdministratorOffice" path="df.page.chooseStudentForMasterDegreeAdministrativeOfficeEnrollmentEquivalence"/>
			<forward name="enrollmentEquivalenceForCoordinator" path="df.page.chooseStudentForCoordinatorEnrollmentEquivalence"/>
		</action>


		<action	name="studentNumberForm"
				type="net.sourceforge.fenixedu.presentationTier.Action.equivalence.PrepareStudentForEnrollmentEquivalenceDispachAction"
				path="/prepareStudentForEnrollmentEquivalence"
				input="/prepareStudentForEnrollmentEquivalence.do?method=error&amp;page=0"
				parameter="method"
				scope="request"
				validate="true">
			<forward name="start" path="/showMenuForEnrollmentEquivalence.do"/>
			<forward name="error" path="/equivalence.do"/>
		</action>


		<action	path="/showMenuForEnrollmentEquivalence"
				type="net.sourceforge.fenixedu.presentationTier.Action.equivalence.PrepareAplicationContextForEnrollmentEquivalenceAction">
			<forward name="enrollmentEquivalenceForDegreeAdministratorOffice" path="df.page.showMenuForDegreeAdministrativeOfficeEnrollmentEquivalence"/>
			<forward name="enrollmentEquivalenceForMasterDegreeAdministratorOffice" path="df.page.showMenuForMasterDegreeAdministrativeOfficeEnrollmentEquivalence"/>
			<forward name="enrollmentEquivalenceForCoordinator" path="df.page.showMenuForCoordinatorEnrollmentEquivalence"/>
		</action>


		<action path="/selectStudentCurricularPlansToMakeEnrollmentEquivalence"
				type="net.sourceforge.fenixedu.presentationTier.Action.equivalence.SelectStudentCurricularPlansForEnrollmentEquivalenceDispatchAction"
				name="selectStudentCurricularPlansForm"
				attribute="selectStudentCurricularPlansMakeForm"
				input="/selectStudentCurricularPlansToMakeEnrollmentEquivalence.do?method=error&amp;commingFrom=chooseStudentCurricularPlans&amp;page=0"
				parameter="method"
				scope="request"
				validate="true">
			<forward name="showStudentCurricularPlansForDegreeAdministratorOffice" path="df.page.showStudentCurricularPlansToMakeEnrollmentEquivalenceInDegreeAdministrativeOffice"/>
			<forward name="showStudentCurricularPlansForMasterDegreeAdministratorOffice" path="df.page.showStudentCurricularPlansToMakeEnrollmentEquivalenceInMasterDegreeAdministrativeOffice"/>
			<forward name="showStudentCurricularPlansForCoordinator" path="df.page.showStudentCurricularPlansToMakeEnrollmentEquivalenceInCoordinator"/>
			<forward name="chooseStudentCurricularPlansForDegreeAdministratorOffice" path="/makeEnrollmentEquivalence.do?method=show"/>
			<forward name="chooseStudentCurricularPlansForMasterDegreeAdministratorOffice" path="/makeEnrollmentEquivalence.do?method=show"/>
			<forward name="chooseStudentCurricularPlansForCoordinator" path="/makeEnrollmentEquivalence.do?method=show"/>
		</action>


		<action path="/selectStudentCurricularPlansToDeleteEnrollmentEquivalence"
				type="net.sourceforge.fenixedu.presentationTier.Action.equivalence.SelectStudentCurricularPlansForEnrollmentEquivalenceDispatchAction"
				name="selectStudentCurricularPlansForm"
				attribute="selectStudentCurricularPlansDeleteForm"
				input="/selectStudentCurricularPlansToDeleteEnrollmentEquivalence.do?method=error&amp;commingFrom=chooseStudentCurricularPlans&amp;page=0"
				parameter="method"
				scope="request"
				validate="true">
			<forward name="showStudentCurricularPlansForDegreeAdministratorOffice" path="df.page.showStudentCurricularPlansToDeleteEnrollmentEquivalenceInDegreeAdministrativeOffice"/>
			<forward name="showStudentCurricularPlansForMasterDegreeAdministratorOffice" path="df.page.showStudentCurricularPlansToDeleteEnrollmentEquivalenceInMasterDegreeAdministrativeOffice"/>
			<forward name="showStudentCurricularPlansForCoordinator" path="df.page.showStudentCurricularPlansToDeleteEnrollmentEquivalenceInCoordinator"/>
			<forward name="chooseStudentCurricularPlansForDegreeAdministratorOffice" path="/deleteEnrollmentEquivalence.do?method=show"/>
			<forward name="chooseStudentCurricularPlansForMasterDegreeAdministratorOffice" path="/deleteEnrollmentEquivalence.do?method=show"/>
			<forward name="chooseStudentCurricularPlansForCoordinator" path="/deleteEnrollmentEquivalence.do?method=show"/>
		</action>

		<action path="/makeEnrollmentEquivalence"
				type="net.sourceforge.fenixedu.presentationTier.Action.equivalence.EnrollmentEquivalenceDispatchAction"
				name="enrollmentEquivalenceFrom"
				input="/makeEnrollmentEquivalence.do?method=error&amp;commingFrom=grades&amp;page=0"
				parameter="method"
				scope="request"
				validate="true">
			<forward name="showForDegreeAdministratorOffice" path="df.page.showCurricularCoursesToMakeEnrollmentEquivalenceInDegreeAdministrativeOffice"/>
			<forward name="showForMasterDegreeAdministratorOffice" path="df.page.showCurricularCoursesToMakeEnrollmentEquivalenceInMasterDegreeAdministrativeOffice"/>
			<forward name="showForCoordinator" path="df.page.showCurricularCoursesToMakeEnrollmentEquivalenceInCoordinator"/>
			<forward name="gradesForDegreeAdministratorOffice" path="df.page.getGradesToMakeEnrollmentEquivalenceInDegreeAdministrativeOffice"/>
			<forward name="gradesForMasterDegreeAdministratorOffice" path="df.page.getGradesToMakeEnrollmentEquivalenceInMasterDegreeAdministrativeOffice"/>
			<forward name="gradesForCoordinator" path="df.page.getGradesToMakeEnrollmentEquivalenceInCoordinator"/>
			<forward name="confirmForDegreeAdministratorOffice" path="df.page.confirmGradesToMakeEnrollmentEquivalenceInDegreeAdministrativeOffice"/>
			<forward name="confirmForMasterDegreeAdministratorOffice" path="df.page.confirmGradesToMakeEnrollmentEquivalenceInMasterDegreeAdministrativeOffice"/>
			<forward name="confirmForCoordinator" path="df.page.confirmGradesToMakeEnrollmentEquivalenceInCoordinator"/>
			<forward name="acceptForDegreeAdministratorOffice" path="df.page.acceptToMakeEnrollmentEquivalenceInDegreeAdministrativeOffice"/>
			<forward name="acceptForMasterDegreeAdministratorOffice" path="df.page.acceptToMakeEnrollmentEquivalenceInMasterDegreeAdministrativeOffice"/>
			<forward name="acceptForCoordinator" path="df.page.acceptToMakeEnrollmentEquivalenceInCoordinator"/>
			<forward name="detailsForDegreeAdministratorOffice" path="df.page.enrollmentDetailsToMakeEnrollmentEquivalenceInDegreeAdministrativeOffice"/>
			<forward name="detailsForMasterDegreeAdministratorOffice" path="df.page.enrollmentDetailsToMakeEnrollmentEquivalenceInMasterDegreeAdministrativeOffice"/>
			<forward name="detailsForCoordinator" path="df.page.enrollmentDetailsToMakeEnrollmentEquivalenceInCoordinator"/>
		</action>

		<action path="/deleteEnrollmentEquivalence"
				type="net.sourceforge.fenixedu.presentationTier.Action.equivalence.DeleteEnrollmentEquivalenceDispatchAction"
				name="enrollmentEquivalenceFrom"
				input="/deleteEnrollmentEquivalence.do?method=error&amp;page=0"
				parameter="method"
				scope="request"
				validate="true">
			<forward name="showForDegreeAdministratorOffice" path="df.page.showCurricularCoursesToDeleteEnrollmentEquivalenceInDegreeAdministrativeOffice"/>
			<forward name="showForMasterDegreeAdministratorOffice" path="df.page.showCurricularCoursesToDeleteEnrollmentEquivalenceInMasterDegreeAdministrativeOffice"/>
			<forward name="showForCoordinator" path="df.page.showCurricularCoursesToDeleteEnrollmentEquivalenceInCoordinator"/>
			<forward name="confirmForDegreeAdministratorOffice" path="df.page.confirmDeletionOfEnrollmentEquivalenceInDegreeAdministrativeOffice"/>
			<forward name="confirmForMasterDegreeAdministratorOffice" path="df.page.confirmDeletionOfEnrollmentEquivalenceInMasterDegreeAdministrativeOffice"/>
			<forward name="confirmForCoordinator" path="df.page.confirmDeletionOfEnrollmentEquivalenceInCoordinator"/>
			<forward name="acceptForDegreeAdministratorOffice" path="df.page.acceptDeletionOfEnrollmentEquivalenceInDegreeAdministrativeOffice"/>
			<forward name="acceptForMasterDegreeAdministratorOffice" path="df.page.acceptDeletionOfEnrollmentEquivalenceInMasterDegreeAdministrativeOffice"/>
			<forward name="acceptForCoordinator" path="df.page.acceptDeletionOfEnrollmentEquivalenceInCoordinator"/>
			<forward name="detailsForDegreeAdministratorOffice" path="df.page.enrollmentDetailsToDeleteEnrollmentEquivalenceInDegreeAdministrativeOffice"/>
			<forward name="detailsForMasterDegreeAdministratorOffice" path="df.page.enrollmentDetailsToDeleteEnrollmentEquivalenceInMasterDegreeAdministrativeOffice"/>
			<forward name="detailsForCoordinator" path="df.page.enrollmentDetailsToDeleteEnrollmentEquivalenceInCoordinator"/>
		</action>

	</action-mappings>

	<!-- ==================================================================== -->
	<!-- ========== CONTROLLER CONFIGURATION ================================ -->
	<!-- ==================================================================== -->
	<controller processorClass="net.sourceforge.fenixedu.presentationTier.processor.FenixRequestProcessorWithTiles"/>

	<!-- ==================================================================== -->
	<!-- ========== MESSAGE RESOURCES DEFINITIONS =========================== -->
	<!-- ==================================================================== -->
	<message-resources parameter="ServidorApresentacao.EquivalenceResources" null="false"/>
	<message-resources parameter="ServidorApresentacao.GlobalResources" key="GLOBAL_RESOURCES" null="false"/>

	<!-- ==================================================================== -->
	<!-- ========== PLUG INS CONFIGURATION ================================== -->
	<!-- ==================================================================== -->
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames" value="/WEB-INF/validator-rules.xml,/WEB-INF/fenix-validator-rules.xml,/WEB-INF/conf/validation-equivalence.xml"/>
	</plug-in>

	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config" value="/WEB-INF/tiles/layouts/tiles-layout-definitions.xml,/WEB-INF/tiles/equivalence/tiles-equivalence-definitions.xml,/WEB-INF/tiles/equivalence/tiles-equivalence-pages-definitions.xml"/>
		<set-property property="moduleAware" value="true"/>
		<set-property property="definitions-parser-validate" value="true"/>
	</plug-in>

</struts-config>
