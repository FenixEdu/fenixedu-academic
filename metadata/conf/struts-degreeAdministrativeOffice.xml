<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>

	<!-- ========== Data Source Configuration =============================== -->
	<data-sources/>

	<!-- ========== Form Bean Definitions =================================== -->
	<form-beans type="org.apache.struts.action.ActionFormBean">
		<!-- ******************* LEEC Enrollment **************** -->
		<form-bean name="curricularCoursesEnrollmentForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="studentNumber" type="java.lang.String"/>
			<form-property name="specializationArea" type="java.lang.Integer"/>
			<form-property name="secondaryArea" type="java.lang.Integer"/>
			<form-property name="enrolledCurricularCoursesBefore" type="java.lang.Integer[]"/>
			<form-property name="enrolledCurricularCoursesAfter" type="java.lang.Integer[]"/>
			<form-property name="unenrolledCurricularCourses" type="java.lang.String[]"/>
			<form-property name="executionYear" type="java.lang.String"/>
			<form-property name="degreeType" type="java.lang.String"/>
			<form-property name="page" type="java.lang.Integer" initial="0"/>
			<form-property name="isOptional" type="java.lang.String"/>
			<form-property name="courseType" type="java.lang.String"/>
			<form-property name="degreeCurricularPlanID" type="java.lang.Integer"/>
			<form-property name="curricularCourse" type="java.lang.String"/>
		</form-bean>

		<form-bean name="curriculumForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="studentNumber" type="java.lang.String"/>
			<form-property name="page" type="java.lang.Integer" initial="0"/>
		</form-bean>

		<!-- ******************* Improvment Enrollment **************** -->
		<form-bean name="improvmentEnrolmentForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="studentNumber" type="java.lang.Integer"/>
			<form-property name="executionPeriod" type="java.lang.String"/>			
			<form-property name="degreeType" type="java.lang.String"/>
			<form-property name="enrolments" type="java.lang.Integer[]"/>
			<form-property name="unenrolments" type="java.lang.Integer[]"/>
			<form-property name="page" type="java.lang.Integer" initial="0"/>
		</form-bean>
		
		<!-- ******************* Enrollment Without Rule**************** -->
		<form-bean name="curricularCoursesEnrollmentWithoutRuleForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="studentNumber" type="java.lang.String"/>			
			<form-property name="executionPeriod" type="java.lang.String"/>
			<form-property name="degreeType" type="java.lang.String"/>
			<form-property name="executionDegree" type="java.lang.String"/>
			<form-property name="curricularYears" type="java.lang.Integer[]"/>
			<form-property name="curricularSemesters" type="java.lang.Integer[]"/>
			<form-property name="curricularCourses" type="java.lang.String[]"/>
			<form-property name="unenrollments" type="java.lang.Integer[]"/>
            <form-property name="enrollmentTypes" type="java.util.HashMap"/>			
			<form-property name="page" type="java.lang.Integer" initial="0"/>
			<form-property name="userType" type="java.lang.Integer" initial="0"/>
			<form-property name="studentCurricularPlan" type="java.lang.String"/>
		</form-bean>
		
		<!-- =================== Change student areas =================== -->
		<form-bean name="changeStudentAreasForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="studentNumber" type="java.lang.String"/>
			<form-property name="degreeType" type="java.lang.String"/>
			<form-property name="specializationAreaID" type="java.lang.Integer"/>
			<form-property name="secondaryAreaID" type="java.lang.Integer"/>
			<form-property name="studentCurricularPlanID" type="java.lang.Integer"/>
			<form-property name="page" type="java.lang.Integer"/>
		</form-bean>

		<form-bean name="getStudentNumberForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="method" type="java.lang.String"/>
			<form-property name="page" type="java.lang.Integer" initial="0"/>
			<form-property name="degreeType" type="java.lang.String"/>
			<form-property name="studentNumber" type="java.lang.String"/>
		</form-bean>
		
		<form-bean name="studentNumberForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="page" type="java.lang.Integer"/>
			<form-property name="studentNumber" type="java.lang.String"/>
		</form-bean>
		
		<form-bean name="studentsNumbersBetweenForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="page" type="java.lang.Integer"/>
			<form-property name="firstStudentNumber" type="java.lang.String"/>
			<form-property name="lastStudentNumber" type="java.lang.String"/>
		</form-bean>
		
		<!-- VIEW STUDENT CURRICULUM FORMS -->
		<form-bean name="studentCurricularPlanAndEnrollmentsSelectionForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        	<form-property name="studentCPID" type="java.lang.String" />
        	<form-property name="select" type="java.lang.String" />
			<form-property name="studentNumber" type="java.lang.String"/>
			<form-property name="page" type="java.lang.Integer" initial="0"/>
			<form-property name="degreeCurricularPlanID" type="java.lang.Integer" initial="0"/>
		</form-bean>	
		
		<!-- ==================== View Curricular Course Historic ================== -->
		<form-bean name="executionYearDegreeCurricularPlanForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="executionYearID" type="java.lang.String"/>
			<form-property name="degreeCurricularPlanID" type="java.lang.String"/>
			<form-property name="page" type="java.lang.Integer" initial="0"/>
		</form-bean>
		
		<!-- Bean for change of Application Information -->
      <form-bean name="changePersonalInfoForm" 
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
            <form-property name="page" type="java.lang.Integer" />

        	<form-property name="identificationDocumentType" type="java.lang.String" />
        	<form-property name="identificationDocumentNumber" type="java.lang.String" />
        	<form-property name="identificationDocumentIssuePlace" type="java.lang.String" />		
        	<form-property name="name" type="java.lang.String" />
        	<form-property name="sex" type="java.lang.String" />
        	<form-property name="maritalStatus" type="java.lang.String" />
        	<form-property name="nationality" type="java.lang.String" />
        	<form-property name="fatherName" type="java.lang.String" />
        	<form-property name="motherName" type="java.lang.String" />
        	<form-property name="birthPlaceParish" type="java.lang.String" />
        	<form-property name="birthPlaceMunicipality" type="java.lang.String" />
        	<form-property name="birthPlaceDistrict" type="java.lang.String" />
        	<form-property name="address" type="java.lang.String" />
        	<form-property name="place" type="java.lang.String" />
        	<form-property name="postCode" type="java.lang.String" />
        	<form-property name="addressParish" type="java.lang.String" />
        	<form-property name="addressMunicipality" type="java.lang.String" />
        	<form-property name="addressDistrict" type="java.lang.String" />
        	<form-property name="telephone" type="java.lang.String" />
        	<form-property name="mobilePhone" type="java.lang.String" />
        	<form-property name="email" type="java.lang.String" />
        	<form-property name="webSite" type="java.lang.String" />
        	<form-property name="contributorNumber" type="java.lang.String" />
        	<form-property name="occupation" type="java.lang.String" />
        	<form-property name="birthDay" type="java.lang.String" /> 
            <form-property name="birthMonth" type="java.lang.String" /> 
        	<form-property name="birthYear" type="java.lang.String" /> 
        	<form-property name="idIssueDateDay" type="java.lang.String" /> 
            <form-property name="idIssueDateMonth" type="java.lang.String" /> 
        	<form-property name="idIssueDateYear" type="java.lang.String" /> 
        	<form-property name="idExpirationDateDay" type="java.lang.String" /> 
            <form-property name="idExpirationDateMonth" type="java.lang.String" /> 
        	<form-property name="idExpirationDateYear" type="java.lang.String" /> 
        	<form-property name="username" type="java.lang.String" /> 
        	<form-property name="areaOfAreaCode" type="java.lang.String" /> 
			<form-property name="studentNumber" type="java.lang.String"/>
      </form-bean>
		
			
		<!-- ==================  EQUIVALENCES  ================= -->
		<form-bean name="equivalencesForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="method" type="java.lang.String"/>
			<form-property name="studentNumber" type="java.lang.String"/>
			<form-property name="curricularCoursesID" type="java.lang.Integer[]"/>
			<form-property name="studentCurricularPlanID" type="java.lang.String"/>
		</form-bean>	

		<form-bean name="changeDegreeForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="page" type="java.lang.Integer" initial="0"/>
			<form-property name="studentNumber" type="java.lang.String"/>
			<form-property name="executionDegreeToChangeTo" type="java.lang.String"/>
			<form-property name="enrolementsToTransfer" type="java.lang.String[]"/>
			<form-property name="enrolementsToMaintain" type="java.lang.String[]"/>
			<form-property name="enrolementsToDelete" type="java.lang.String[]"/>
			<form-property name="newStudentCurricularPlanStartDate" type="java.lang.String"/>
		</form-bean>

		<form-bean name="curricularCourseEquivalenciesForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="page" type="java.lang.Integer" initial="0"/>
			<form-property name="degreeID" type="java.lang.String"/>
			<form-property name="degreeCurricularPlanID" type="java.lang.String"/>
			<form-property name="curricularCourseID" type="java.lang.String"/>
			<form-property name="oldDegreeID" type="java.lang.String"/>
			<form-property name="oldDegreeCurricularPlanID" type="java.lang.String"/>
			<form-property name="oldCurricularCourseID" type="java.lang.String"/>
			<form-property name="curricularCourseEquivalencyID" type="java.lang.String"/>
		</form-bean>
		
		<form-bean name="markSheetManagementForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="epID" type="java.lang.Integer" />
			<form-property name="dID" type="java.lang.Integer" />
			<form-property name="dcpID" type="java.lang.Integer" />
			<form-property name="ccID" type="java.lang.Integer" />
			<form-property name="msID" type="java.lang.Integer" />
			<form-property name="tn" type="java.lang.String" />
			<form-property name="ed" type="java.lang.String"/>
			<form-property name="mss" type="java.lang.String" />
			<form-property name="mst" type="java.lang.String" />
			<form-property name="evaluationID" type="java.lang.Integer" />			
		</form-bean>
		
		<form-bean name="printMarkSheetForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="markSheet" type="java.lang.String" />
			<form-property name="printerName" type="java.lang.String" />
			<form-property name="page" type="java.lang.Integer" initial="0"/>
		</form-bean>
		<form-bean name="markSheetSendMailForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="method" type="java.lang.String" />
			<form-property name="markSheetIDs" type="java.lang.Integer[]" />
		</form-bean>
		
		
		<!-- Payments -->
		<form-bean name="paymentsForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="method" type="java.lang.String" />
			<form-property name="candidacyNumber" type="java.lang.String" />
			<form-property name="username" type="java.lang.String" />
			<form-property name="documentType" type="java.lang.String" />
			<form-property name="documentNumber" type="java.lang.String" />
	    </form-bean>
	    		
		<!-- Document Requests Management -->	    
   		<form-bean name="documentRequestsManagementForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
			<form-property name="method" type="java.lang.String" />
			<form-property name="documentRequestType" type="java.lang.String" />
			<form-property name="requestSituationType" type="java.lang.String" />
			<form-property name="isUrgent" type="java.lang.String" />
			<form-property name="studentNumber" type="java.lang.String" />
			<form-property name="documentRequestId" type="java.lang.String" />
			<form-property name="documentIdsToProcess" type="java.lang.Integer[]" />
	    </form-bean>

	</form-beans>

    <!-- ========== Global Exception Definitions ============================== -->
	<global-exceptions>
        <exception
			type="java.lang.Exception"
			key="error.Exception"
            handler="net.sourceforge.fenixedu.presentationTier.config.FenixContainerExceptionHandler"
			/>
		<exception
			type="net.sourceforge.fenixedu.applicationTier.Servico.exceptions.NotAuthorizedException"
			key="error.NotAuthorized"
			handler="net.sourceforge.fenixedu.presentationTier.config.FenixContainerExceptionHandler"
			/>
	</global-exceptions>

	<!-- ========== Global Forward Definitions ============================== -->
	<global-forwards type="org.apache.struts.action.ActionForward">
		<forward name="ciaplIndex" path="/index.do" contextRelative="true"/>
		<forward name="logoff" path="/logoff.do" contextRelative="true"/>
		<forward name="redirect" path="/redirect.do" contextRelative="true"/>
		<forward name="index" path="/index.do" redirect="true"/>
		<forward name="globalOutOfPeriod" path="definition.out.of.period" redirect="true"/>
		<forward name="enrolment" path="/globalEnrolment.do"/>
	</global-forwards>

	<!-- ========== Action Mapping Definitions ============================== -->
	<action-mappings type="org.apache.struts.action.ActionMapping">
		<!-- page fronting actions -->
		<action path="/home" forward="/switchAction.do?prefix=&amp;page=/mainPortalPage.jsp"/>
		<action path="/switchAction" type="org.apache.struts.actions.SwitchAction"/>
		<action path="/outOfPeriod" forward="definition.out.of.period"/>
		<action path="/globalEnrolment" forward="df.page.globalEnrolment"/>	
		<action path="/cantEnroll" forward="definition.cant.enroll"/>	
		<action path="/prepareNotNeedToEnroll" forward="show-not-need-to-enroll"/>
   		
		<!-- ****************** Index **************************** -->
		<action path="/index" type="net.sourceforge.fenixedu.presentationTier.Action.commons.VoidAction">
			<forward name="Success" path="df.page.main"/>
		</action>
		<!-- ****************** LEEC Enrollment **************************** -->
		<action	path="/curricularCoursesEnrollment"
				type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.CurricularCoursesEnrollmentDispatchAction"
				name="curricularCoursesEnrollmentForm"				
				parameter="method"
				scope="request"
				validate="true"
				input="/curricularCoursesEnrollment.do?method=prepareEnrollmentChooseStudent">

			<exception	type="net.sourceforge.fenixedu.presentationTier.Action.exceptions.FenixTransactionException"
						key="resources.Action.exceptions.InvalidSituationActionException"
						handler="net.sourceforge.fenixedu.presentationTier.config.FenixTransactionExceptionHandler"/>
				
			<forward name="beginTransaction" path="/curricularCoursesEnrollment.do?method=start"/>
			<forward name="prepareEnrollmentChooseStudent" path="df.page.prepareEnrollmentChooseStudent"/>
			<forward name="prepareEnrollmentChooseAreas" path="df.page.prepareEnrollmentChooseAreas"/>
			<forward name="prepareChooseAreas" path="/curricularCoursesEnrollment.do?method=prepareEnrollmentPrepareChooseAreas&amp;page=0"/>
			<forward name="prepareEnrollmentChooseCurricularCourses" path="df.page.prepareEnrollmentChooseCurricularCourses"/>
			<forward name="enrollmentConfirmation" path="df.page.enrollmentConfirmation"/>
		</action>
		
		<!-- ****************** Improvment Enrollment **************************** -->

		<action path="/prepareEnrollmentChooseStudent" forward="df.page.prepareImprovmentEnrollmentChooseStudent"/>
		
		<action	path="/improvmentEnrollment"
				type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.improvment.ImprovmentEnrolmentDispacthAction"
				name="improvmentEnrolmentForm"				
				parameter="method"
				scope="request"
				validate="true"
				input="/prepareEnrollmentChooseStudent.do">

			<exception	type="net.sourceforge.fenixedu.presentationTier.Action.exceptions.FenixTransactionException"
						key="resources.Action.exceptions.InvalidSituationActionException"
						handler="net.sourceforge.fenixedu.presentationTier.config.FenixTransactionExceptionHandler"/>

			<forward name="prepareEnrolmentViewEnrolments" path="df.page.prepareEnrolmentViewEnrolments"/>
			<forward name="viewEnrolments" path="/improvmentEnrollment.do?method=start&amp;page=0"/>
			<forward name="globalEnrolment" path="/globalEnrolment.do"/>
			<forward name="prepareEnrollmentChooseStudent" path="df.page.prepareImprovmentEnrollmentChooseStudent"/>			
		</action>

		<!-- ****************** SpecialSeason Enrolment **************************** -->

		
		<action	path="/specialSeasonEnrolment"
				type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.specialSeason.SpecialSeasonEnrolmentDispatchAction"
				parameter="method"
				scope="request">
			<forward name="prepareChooseStudent" path="df.page.specialSeason.prepareChooseStudent"/>
			<forward name="viewSpecialSeasonEnrolments" path="df.page.specialSeason.viewSpecialSeasonEnrolments"/>
		</action>
		
		<!-- ****************** View Student Curriculum **************************** -->
		<action path="/viewStudentCurriculum"
		      	type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.ViewStudentCurriculumDispatchAction"
              	parameter="method">
			<forward name="prepareViewStudentCurriculumChooseStudent" path="df.page.prepareViewStudentCurriculumChooseStudent"/>        	
      	</action>
      	
		<action path="/viewCurriculum"
		      	type="net.sourceforge.fenixedu.presentationTier.Action.commons.student.CurriculumDispatchAction"
              	parameter="method"
		      	name="studentCurricularPlanAndEnrollmentsSelectionForm"
				scope="request"
				validate="true"
				input="/viewStudentCurriculum.do?method=prepareViewStudentCurriculumChooseStudent&amp;page=0">
        	<forward name="ShowStudentCurriculum" path="df.page.showStudentCurriculum"/>
        	<forward name="NotAuthorized" path="df.page.notAuthorized"/>	
      	</action>
      	
      	<!-- ****************** View Student Information **************************** -->
		<action path="/viewStudentInformation"
		      	type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.ViewStudentInformationDispatchAction"
              	parameter="method">
			<forward name="prepareViewStudentInformationChooseStudent" path="df.page.prepareViewStudentInformationChooseStudent"/>
			
      	</action>
      	
		<action path="/viewInformation"
		      	type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.ReadStudentPersonInfoAction"
              	parameter="method"
		      	name="changePersonalInfoForm"
				scope="request"
				validate="true"
				input="/viewStudentInformation.do?method=prepareView&amp;page=0">
        	<forward name="Success" path="df.page.showStudentInformation"/>
        	<forward name="Insuccess" path="/viewStudentInformation.do?method=prepareView"/>
      	</action>
      	
        <!-- edit student informations -->
		<action path="/editInformation"
		      	type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.EditStudentPersonInfoDispatchAction"
              	parameter="method"
		      	name="changePersonalInfoForm"
				scope="request"
				validate="true"
				input="/viewStudentInformation.do?method=prepare">
        	<forward name="Success" path="df.page.editStudentInformation"/>
			<forward name="done" path="/viewInformation.do"/>
        	<forward name="Insuccess" path="/viewStudentInformation.do"/>
      	</action>
      	

		<!-- ****************** View Student Schedule **************************** -->
		<action path="/viewStudentSchedule"
		      	type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.ViewStudentScheduleAction">
			<forward name="sucess" path="/../student/classTimeTable.jsp"/>        	
      	</action>
      	
      	
      	<!-- ****************** Enrollment Without Rules **************************** -->
		<action path="/courseEnrolmentWithoutRulesManagerDA"
			type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.withoutRules.ExecutionCourseEnrolmentWithoutRulesManagerDispatchAction"
			input="/courseEnrolmentWithoutRulesManagerDA.do?method=prepareEnrollmentChooseStudentAndExecutionYear&amp;degreeType=DEGREE"
			name="curricularCoursesEnrollmentWithoutRuleForm"
			scope="request"
			parameter="method">
			<forward name="prepareEnrollmentChooseStudentWithoutRules" path="df.page.prepareEnrollmentChooseStudentWithoutRules"/>			
			<forward name="curricularCourseEnrollmentList" path="df.page.curricularCourseEnrollmentList"/>
			<forward name="readCurricularCourseEnrollmentList" path="/courseEnrolmentWithoutRulesManagerDA.do?method=readEnrollments" />
			<forward name="choosesForEnrollment" path="df.page.choosesForEnrollment" />
			<forward name="showCurricularCourseToEnroll" path="df.page.showCurricularCourseToEnroll" />
			<forward name="globalEnrolment" path="/globalEnrolment.do"/>
			<forward name="exit" path="/index.do"/>
		</action>		


		<!-- =================== Change student areas =================== -->
		<action path="/changeStudentAreas"
			type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.withoutRules.ChangeStudentAreasDispatchAction"
			input="/changeStudentAreas.do?method=error&amp;page=0&amp;degreeType=DEGREE"
			name="changeStudentAreasForm"
			scope="request"
			parameter="method">
				<forward name="chooseStudent" path="df.page.chooseStudent"/>			
				<forward name="showAndChooseStudentAreas" path="df.page.showAndChooseStudentAreas"/>
				<forward name="exit" path="/index.do"/>
		</action>		

		<!-- ==================== Print registration declaration =================== -->
       	
       	<action path="/generateDeclaration" 
			name="studentNumberForm"    		
			type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.RegistrationDeclaration"
			input="/generateDeclaration.do?method=prepare&amp;page=0"
			validate="true"
			scope="request"
			parameter="method"
			>
			<exception	type="net.sourceforge.fenixedu.applicationTier.Servico.student.ReadInfoRegistrationDeclaration$NonExistingStudentServiceException"
				key="error.no.student.found"
				handler="net.sourceforge.fenixedu.presentationTier.config.FenixErrorExceptionHandler"/>
			<exception	type="net.sourceforge.fenixedu.applicationTier.Servico.student.ReadInfoRegistrationDeclaration$NonExistingEnrollmentServiceException"
				key="error.student.no.current.enrollment"
				handler="net.sourceforge.fenixedu.presentationTier.config.FenixErrorExceptionHandler"/>
			<exception	type="net.sourceforge.fenixedu.applicationTier.Servico.student.ReadInfoRegistrationDeclaration$NonExistingEnrollmentServiceException"
				key="error.student.activeCurricularPlan.nonExistent"
				handler="net.sourceforge.fenixedu.presentationTier.config.FenixErrorExceptionHandler"/>			
			<forward name="prepare" path="df.page.prepareDeclaration"/>
	       	<forward name="sucess" path="df.page.generateDeclaration"/>
       	</action>
       	
       	<!-- ==================== Generate enrollment declaration =================== -->
       	
       	<action path="/generateEnrollmentsDeclaration" 
			name="studentsNumbersBetweenForm"    		
			type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.EnrollmentDeclarations"
			input="/generateEnrollmentsDeclaration.do?method=prepare&amp;page=0"
			validate="true"
			scope="request"
			parameter="method"
			>
			<forward name="prepare" path="df.page.prepareEnrollmentsDeclaration"/>
	       	<forward name="sucess" path="df.page.generateEnrollmentsDeclaration"/>
       	</action>
       	
       	
       	<!-- ==================== View Curricular Course Historic ================== -->
       	<action path="/chooseExecutionYearAndDegreeCurricularPlan"
       		name="executionYearDegreeCurricularPlanForm"
       		type="net.sourceforge.fenixedu.presentationTier.Action.commons.curriculumHistoric.DegreeCurricularPlanExecutionYearDispacthAction"
       		validate="true"
			input="/chooseExecutionYearAndDegreeCurricularPlan.do?method=prepare&amp;page=0"
       		scope="request"
       		parameter="method">
       		<forward name="chooseExecutionYear" path="view-degree-curricular-plan-execution-year"/>
			<forward name="showActiveCurricularCourses" path="show-active-curricular-scopes"/>
       	</action>

		<action path="/showCurriculumHistoric"
       		type="net.sourceforge.fenixedu.presentationTier.Action.commons.curriculumHistoric.ShowCurriculumHistoricAction"
       		scope="request"
			input="/chooseExecutionYearAndDegreeCurricularPlan.do?method=prepare&amp;page=0"
       		parameter="method">
       		<forward name="show-report" path="view-curriculum-historic"/>
       	</action>
       	
       	
       	<!-- =================== Equivalences =================== -->
       	<action path="/showNotNeedToEnroll"
	       	name="equivalencesForm"
       		type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.equivalences.ManageNotNeedToEnrollDispathAction"
       		scope="request"
			input=""
       		parameter="method">
       		<forward name="showNotNeedToEnroll" path="show-not-need-to-enroll"/>
       		<forward name="insertNotNeedToEnroll" path="/showNotNeedToEnroll.do?method=prepareNotNeedToEnroll"/>
       	</action>
       	

       	<!-- ==================== Change Degree ================== -->
       	<action path="/changeDegree"
       			type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.ChangeDegreeDA"
				input="/changeDegree.do?method=prepare&amp;page=0"
				name="changeDegreeForm"
    	   		scope="request"
       			parameter="method">
       		<forward name="showForm" path="change-degree"/>
       		<forward name="showConfirmationScreen" path="confirm-change-degree"/>
			<forward name="showSucessPage" path="sucess-change-degree"/>
       	</action>

       	<!-- ==================== Curricular Course Equivalencies ================== -->
       	<action path="/curricularCourseEquivalencies"
       			type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.CurricularCourseEquivalenciesDA"
				input="/curricularCourseEquivalencies.do?method=prepare&amp;page=0"
				name="curricularCourseEquivalenciesForm"
    	   		scope="request"
       			parameter="method">
			<exception type="net.sourceforge.fenixedu.domain.exceptions.DomainException"
				key="error.exists.curricular.course.equivalency"
				handler="net.sourceforge.fenixedu.presentationTier.config.FenixErrorExceptionHandler"/>
       		<forward name="showEquivalencies" path="show-curricular-course-equivalencies"/>
       		<forward name="showCreateEquivalencyForm" path="show-create-curricular-course-equivalencies"/>
       	</action>
       	
		<!-- ==================== MarkSheet Management ================== -->
		<action path="/markSheetManagement"
				type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.gradeSubmission.MarkSheetSearchDispatchAction"
				input="show.markSheetManagement.search.page"
				parameter="method"
				name="markSheetManagementForm"
				scope="request">
				
       		<forward name="searchMarkSheet" path="show.markSheetManagement.search.page"/>
       		<forward name="viewMarkSheet" path="markSheetManagement.viewMarkSheet"/>
       		<forward name="removeMarkSheet" path="show.markSheetManagement.remove"/>
       		<forward name="searchMarkSheetFilled" path="/markSheetManagement.do?method=prepareSearchMarkSheetFilled"/>       		
       		<forward name="confirmMarkSheet" path="show.markSheetManagement.confirm.page"/>       		       		       		
       		<forward name="choosePrinter" path="/printMarkSheet.do?method=choosePrinterMarkSheet"/>       		
		</action>
		
		<action path="/createMarkSheet"
				type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.gradeSubmission.MarkSheetCreateDispatchAction"
				input="show.markSheetManagement.create.page.step1"
				parameter="method"
				name="markSheetManagementForm"
				scope="request">
				
       		<forward name="createMarkSheetStep1" path="show.markSheetManagement.create.page.step1"/>
       		<forward name="createMarkSheetStep2" path="show.markSheetManagement.create.page.step2"/>       		
       		<forward name="searchMarkSheetFilled" path="/markSheetManagement.do?method=prepareSearchMarkSheetFilled"/>
			<forward name="rectifyMarkSheetStep1" path="show.markSheetManagement.rectify.page.step1"/>
       		<forward name="rectifyMarkSheetStep2" path="show.markSheetManagement.rectify.page.step2"/>
       		<forward name="viewMarkSheet" path="markSheetManagement.viewMarkSheet"/>
		</action>
		
		<action path="/rectifyMarkSheet"
				type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.gradeSubmission.MarkSheetCreateDispatchAction"
				input="/rectifyMarkSheet.do?page=0&amp;method=validationError"
				parameter="method"
				name="markSheetManagementForm"
				scope="request">
       		<forward name="rectifyMarkSheetStep1" path="show.markSheetManagement.rectify.page.step1"/>
       		<forward name="rectifyMarkSheetStep2" path="show.markSheetManagement.rectify.page.step2"/>
			<forward name="searchMarkSheet" path="/markSheetManagement.do?method=prepareSearchMarkSheet"/>
       		<forward name="searchMarkSheetFilled" path="/markSheetManagement.do?method=prepareSearchMarkSheetFilled"/>
       		<forward name="showRectificationHistoric" path="show.markSheetManagement.showRectificationHistoric"/>
		</action>		
		
		<action path="/editMarkSheet"
				type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.gradeSubmission.MarkSheetEditDispatchAction"
				input="/markSheetManagement.do?method=prepareSearchMarkSheet"
				parameter="method"
				name="markSheetManagementForm"
				scope="request">
				
       		<forward name="editMarkSheet" path="show.markSheetManagement.edit.page"/>
			<forward name="editArchiveInformation" path="show.markSheetManagement.edit.archiveInformation"/>
       		<forward name="searchMarkSheetFilled" path="/markSheetManagement.do?method=prepareSearchMarkSheetFilled"/>
		</action>

		<action path="/printMarkSheet"
				type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.gradeSubmission.PrintMarkSheetDispatchAction"
				input="/printMarkSheet.do?method=choosePrinterMarkSheet&amp;page=0"
				parameter="method"
				name="printMarkSheetForm"
				scope="request">
       		<forward name="choosePrinterMarkSheet" path="show.printMarkSheet.choosePrinterMarkSheet"/>       		       		
       		<forward name="searchMarkSheetFilled" path="/markSheetManagement.do?method=prepareSearchMarkSheetFilled"/>
       		<forward name="searchMarkSheet" path="/markSheetManagement.do?method=prepareSearchMarkSheet"/>       		
		</action>		
		
		<action path="/printMarkSheetWeb"
				type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.gradeSubmission.PrintMarkSheetDispatchAction"
				input="/printMarkSheetWeb.do?method=choosePrinterMarkSheetsWeb&amp;page=0"
				parameter="method"
				name="printMarkSheetForm"
				scope="request">
       		<forward name="choosePrinterMarkSheetsWeb" path="show.printMarkSheet.choosePrinterMarkSheetsWeb"/>
       		<forward name="searchMarkSheetFilled" path="/markSheetManagement.do?method=prepareSearchMarkSheetFilled"/>
       		<forward name="searchMarkSheet" path="/markSheetManagement.do?method=prepareSearchMarkSheet"/>       		
		</action>				
		
		<action path="/markSheetSendMail"
				type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.gradeSubmission.SendMailMarkSheetDispatchAction"
				input="show.markSheetSendMail.searchSendMail"
				parameter="method"
				name="markSheetSendMailForm"
				scope="request">
       		<forward name="searchSendMail" path="show.markSheetSendMail.searchSendMail"/>
       		<forward name="prepareMarkSheetsToConfirmSendMail" path="show.markSheetSendMail.prepareMarkSheetsToConfirmSendMail"/>
       		<forward name="prepareGradesToSubmitSendMail" path="show.markSheetSendMail.prepareGradesToSubmitSendMail"/>
       		
		</action>				

		<!-- Payments -->
		<action path="/payments"
				parameter="method"
		        type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.payments.DegreePaymentsManagementDispatchAction"
		 		name="paymentsForm"
		 		scope="request">
		        <forward name="searchPerson" path="payments.management.searchPerson"/> 
		 	         <forward name="showOperations" path="payments.management.showOperations"/> 
		 	         <forward name="showEvents" path="payments.management.showEvents"/> 
		 	         <forward name="showGuide" path="payments.management.showGuide"/>
		 	         <forward name="printGuide" path="/payments/guides/printGuidePage.jsp"/>
		 	         <forward name="showReceipts" path="payments.management.showReceipts"/>
		 	         <forward name="showReceipt" path="payments.management.showReceipt"/>
		 	         <forward name="printReceipt" path="/payments/receipts/printReceiptPage.jsp"/>
		 	         <forward name="preparePayment" path="payments.management.preparePayment"/> 
		 	         <forward name="showPaymentsWithoutReceipt" path="payments.management.showPaymentsWithoutReceipt"/> 
		 	         <forward name="confirmCreateReceipt" path="payments.management.confirmCreateReceipt"/> 
		 	         <forward name="paymentConfirmed" path="payments.management.paymentConfirmed"/> 
		</action>
		
		<!-- Price Management -->
		<action path="/pricesManagement"
		     	parameter="method"
		        type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.pricesManagement.DegreePricesManagementDispatchAction"
				scope="request">
				<forward name="viewPrices" path="prices.management.viewPrices"/>
		       	<forward name="editPrice" path="prices.management.editPrice"/>
		</action>	

		<!-- Document Requests Management -->
		<action path="/documentRequestsManagement"
				name="documentRequestsManagementForm"
		     	parameter="method"
		        type="net.sourceforge.fenixedu.presentationTier.Action.degreeAdministrativeOffice.serviceRequests.documentRequests.DocumentRequestsManagementDispatchAction"
				scope="request">
				<forward name="showOperations" path="documentRequests.management.showOperations"/>
				<forward name="viewNewDocumentRequests" path="documentRequests.management.viewNewDocumentRequests"/>
				<forward name="prepareSearch" path="documentRequests.management.prepareSearch"/>
				<forward name="showDocumentRequests" path="documentRequests.management.showDocumentRequests"/>
				<forward name="viewDocumentRequest" path="documentRequests.management.viewDocumentRequest"/>
				<forward name="editDocumentRequest" path="documentRequests.management.editDocumentRequest"/>
		</action>
	
	</action-mappings>

	<!-- ========== Controller Configuration ================================ -->
	<controller processorClass="net.sourceforge.fenixedu.presentationTier.processor.FenixRequestProcessorWithTiles"/>

	<!-- ========== Message Resources Definitions =========================== -->
	<message-resources parameter="resources.DegreeAdministrativeOfficeResources" null="false"/>
	<message-resources parameter="resources.ApplicationResources" key="APPLICATION_RESOURCES" null="false"/>
	<message-resources parameter="resources.GlobalResources" key="GLOBAL_RESOURCES" null="false"/>
    <message-resources parameter="resources.EnumerationResources" key="ENUMERATION_RESOURCES" null="false"/>
    <message-resources parameter="resources.PortalResources" key="PORTAL_RESOURCES" null="false"/>
    <message-resources parameter="resources.StudentResources" key="STUDENT_RESOURCES" null="false"/>
    <message-resources parameter="resources.TeacherCreditsSheetResources" key="TEACHER_CREDITS_SHEET_RESOURCES" null="false"/>
    <message-resources parameter="resources.GEPResources" key="GEP_RESOURCES" null="false"/>
	<message-resources parameter="resources.SchoolRegistrationResources" key="SCHOOL_REGISTRATION_RESOURCES" null="false"/>
	<message-resources parameter="resources.CurriculumHistoricResources" key="CURRICULUM_HISTORIC_RESOURCES" null="false"/>
	<message-resources parameter="resources.InquiriesResources" key="INQUIRIES_RESOURCES" null="false"/>
    <message-resources parameter="resources.PublicDegreeInformation" key="PUBLIC_DEGREE_INFORMATION" null="false"/>
   	<message-resources parameter="resources.ManagerResources" key="MANAGER_RESOURCES" null="false"/> 

	<!-- ========== Plug Ins Configuration ================================== -->
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames" value="/WEB-INF/validator-rules.xml,/WEB-INF/fenix-validator-rules.xml,/WEB-INF/conf/validation-degreeAdministrativeOffice.xml"/>
	</plug-in>

	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config" value="/WEB-INF/tiles/layouts/tiles-layout-definitions.xml,/WEB-INF/tiles/degreeAdministrativeOffice/tiles-degreeAdministrativeOffice-definitions.xml,/WEB-INF/tiles/degreeAdministrativeOffice/tiles-degreeAdministrativeOffice-pages-definitions.xml"/>
		<set-property property="moduleAware" value="true"/>
		<set-property property="definitions-parser-validate" value="true"/>
	</plug-in>

</struts-config>