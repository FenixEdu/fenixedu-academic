<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC       
	  "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN"
      "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>

	<data-sources />

	<!-- ========== Form Bean Definitions =================================== -->
	<form-beans type="org.apache.struts.action.ActionFormBean">
	</form-beans>

	<!-- ========== Global Exception Definitions ============================== -->
	<global-exceptions>
		<exception type="java.lang.Exception" key="error.Exception"
			handler="net.sourceforge.fenixedu.presentationTier.config.FenixContainerExceptionHandler" />
		<exception
			type="net.sourceforge.fenixedu.applicationTier.Servico.exceptions.NotAuthorizedException"
			key="error.NotAuthorized"
			handler="net.sourceforge.fenixedu.presentationTier.config.FenixContainerExceptionHandler" />
	</global-exceptions>

	<!-- ========== Global Forward Definitions ============================== -->
	<global-forwards type="org.apache.struts.action.ActionForward">
		<forward name="logoff" path="/logoff.do" contextRelative="true" />
		<forward name="redirect" path="/redirect.do"
			contextRelative="true" />
		<forward name="index" path="index.do" redirect="true" />
		<forward name="firstPage"
			path="/switchAction.do?prefix=&amp;page=/loginPage.jsp" />
	</global-forwards>

	<!-- ========== Action Mapping Definitions ============================== -->
	<action-mappings type="org.apache.struts.action.ActionMapping">
		<action path="/index"
			type="net.sourceforge.fenixedu.presentationTier.Action.base.FenixForwardAction"
			forward="employee-index" />
		<action path="/home"
			forward="/switchAction.do?prefix=&amp;page=/home.do" />
		<action path="/assiduousness"
			forward="/switchAction.do?prefix=&amp;page=/assiduousness/index.do" />
		<action path="/switchAction"
			type="org.apache.struts.actions.SwitchAction" />

		<action path="/assiduousnessRecords" scope="request"
			parameter="method"
			type="net.sourceforge.fenixedu.presentationTier.Action.employee.AssiduousnessDispatchAction"
			validate="true">
			<forward name="show-employee-info"
				path="show-employee-info" />
			<forward name="show-clockings" path="show-clockings" />
			<forward name="show-justifications"
				path="show-justifications" />
			<forward name="show-work-sheet" path="show-work-sheet" />
		</action>
		
		<action path="/assiduousnessResponsible" scope="request" parameter="method"
			type="net.sourceforge.fenixedu.presentationTier.Action.employee.AssiduousnessResponsibleDispatchAction"
			validate="true" input="show-employee-list">
			<forward name="show-employee-list" path="show-employee-list" />
			<forward name="show-employee-work-sheet" path="show-employee-work-sheet" />
		</action>
	</action-mappings>

	<!-- ========== Controller Configuration ================================ -->
	<controller
		processorClass="net.sourceforge.fenixedu.presentationTier.processor.FenixRequestProcessorWithTiles" />
	<!-- ========== Message Resources Definitions ============================ -->
	<message-resources parameter="resources.AssiduousnessResources" null="false" />
	<message-resources parameter="resources.AssiduousnessResources"
		key="ASSIDUOUSNESS_RESOURCES" null="false" />
	<message-resources parameter="resources.GlobalResources"
		key="GLOBAL_RESOURCES" null="false" />
	<message-resources parameter="resources.EnumerationResources"
		key="ENUMERATION_RESOURCES" null="false" />
	<!-- ========== Plug Ins Configuration ================================= -->
	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config"
			value="/WEB-INF/tiles/layouts/tiles-layout-definitions.xml,/WEB-INF/tiles/employee/tiles-employee-definitions.xml,/WEB-INF/tiles/employee/tiles-employee-pages-definitions.xml" />
		<set-property property="moduleAware" value="true" />
		<set-property property="definitions-parser-validate"
			value="true" />
	</plug-in>
	<plug-in
		className="net.sourceforge.fenixedu.renderers.plugin.RenderersPlugin">
		<set-property property="config"
			value="/WEB-INF/fenix-renderers-config.xml" />
		<set-property property="schemas"
			value="/WEB-INF/schemas/fenix-renderers-schemas.xml" />
		<set-property property="metaObjectFactory"
			value="net.sourceforge.fenixedu.presentationTier.renderers.factories.FenixMetaObjectFactory" />
		<set-property property="userIdentityFactory"
			value="net.sourceforge.fenixedu.presentationTier.renderers.factories.FenixUserIdentityFactory" />
		<set-property property="schemaFactory"
			value="net.sourceforge.fenixedu.presentationTier.renderers.factories.FenixSchemaFactory" />
	</plug-in>
</struts-config>