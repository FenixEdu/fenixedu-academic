<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC 
      "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN"
      "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>
    
    <!-- ========== Data Source Configuration =============================== -->

    
    <!-- ========== Form Bean Definitions ================================== -->
    <form-beans type="org.apache.struts.action.ActionFormBean">
    
    <form-bean name="addShiftToClasses"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
         <form-property name="classesList" type="java.lang.String[]" />  
      </form-bean>
      <!-- AUTORIZACAO -->
      <!-- Dynamic-FormBean para Autorizacao -->
      <form-bean name="autenticacaoSOPForm" 
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="utilizador" type="java.lang.String" />
        <form-property name="password" type="java.lang.String" />
      </form-bean>
		
	  <!-- CONTEXTO -->
      <!-- Dynamic-FormBean para EscolherContexto -->
      <form-bean name="chooseScheduleContextForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="page" type="java.lang.Integer"/> 
        <form-property name="executionDegreeOID" type="java.lang.String"/>
        <form-property name="curricularYear" type="java.lang.String"/>
      </form-bean>

      <form-bean name="escolherContextoForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="index" type="java.lang.String"/>
        <form-property name="anoCurricular" type="java.lang.Integer"/>
        <!--        <form-property name="semestre" type="java.lang.Integer"/> -->
      </form-bean>

      <!-- Dynamic-FormBean for Choose Context -->
      <form-bean name="chooseContextForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="index" type="java.lang.String"/>
        <form-property name="curricularYear" type="java.lang.Integer"/>
        <form-property name="page" type="java.lang.Integer"/> 
      </form-bean>

      <!-- Dynamic-FormBean for searchExecutionCourse -->
      <form-bean name="searchExecutionCourse"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="page" type="java.lang.Integer"/>
        <form-property name="executionPeriodOID" type="java.lang.String"/>
        <form-property name="executionDegreeOID" type="java.lang.String"/>
        <form-property name="curricularYearOID" type="java.lang.String"/>
        <form-property name="executionCourseName" type="java.lang.String"/>
      </form-bean>

      <!-- Dynamic-FormBean for searchExecutionCourse -->
      <form-bean name="editExecutionCourseForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="page" type="java.lang.Integer"/>
        <form-property name="theoreticalHours" type="java.lang.String"/>
        <form-property name="theoPratHours" type="java.lang.String"/>
        <form-property name="praticalHours" type="java.lang.String"/>
        <form-property name="labHours" type="java.lang.String"/>
      </form-bean>

	  <!-- Dynamic-FormBean for Create Shift -->
      <form-bean name="createShiftForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="page" type="java.lang.Integer"/>
        <form-property name="nome" type="java.lang.String"/>
        <form-property name="courseInitials" type="java.lang.String"/>
        <form-property name="tipoAula" type="java.lang.Integer"/>
        <form-property name="lotacao" type="java.lang.Integer"/>
      </form-bean>

      <!-- Dynamic-FormBean for lesson manipulation -->
      <form-bean name="manageLessonForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="page" type="java.lang.Integer"/>
        <form-property name="diaSemana" type="java.lang.String"/>
        <form-property name="horaInicio" type="java.lang.String"/>
        <form-property name="minutosInicio" type="java.lang.String"/>
        <form-property name="horaFim" type="java.lang.String"/>
        <form-property name="minutosFim" type="java.lang.String"/>
        <form-property name="nomeSala" type="java.lang.String"/>
      </form-bean>

	  <!-- Dynamic-FormBean for adding shifts to class -->
      <form-bean name="selectMultipleItemsForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="page" type="java.lang.Integer"/>
        <form-property name="selectedItems" type="java.lang.String[]" size="0"/>
      </form-bean>

	  <!-- AULAS -->
      <!-- Dynamic-FormBean para CriarAula -->
      <form-bean name="aulaForm"
                 type="org.apache.struts.validator.DynaValidatorActionForm"
                 dynamic="true">
        <form-property name="diaSemana" type="java.lang.String"/>
        <form-property name="horaInicio" type="java.lang.String"/>
        <form-property name="minutosInicio" type="java.lang.String"/>
        <form-property name="horaFim" type="java.lang.String"/>
        <form-property name="minutosFim" type="java.lang.String"/>
        <form-property name="tipoAula" type="java.lang.String"/>
        <form-property name="courseInitials" type="java.lang.String"/>
        <form-property name="nomeSala" type="java.lang.String"/>
        <form-property name="page" type="java.lang.Integer"/>
      </form-bean>

      <!-- Dynamic-FormBean para EscolherDisciplinaExecucao -->
      <form-bean name="chooseExecutionCourseForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="courseInitials" type="java.lang.String"/>
        <form-property name="page" type="java.lang.Integer"/>        
      </form-bean>

      <!-- Dynamic-FormBean para ManipularAulas -->
      <form-bean name="manipularAulasForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="indexAula" type="java.lang.Integer"/>
      </form-bean>

	  <!-- SALAS -->
      <!-- Dynamic-FormBean para CriarSala -->
      <form-bean name="roomForm"
                type="org.apache.struts.validator.DynaValidatorForm"
                dynamic="true">
        <form-property name="executionPeriodId" type="java.lang.Integer"/>        
        <form-property name="name" type="java.lang.String"/>
        <form-property name="building" type="java.lang.String"/>
        <form-property name="floor" type="java.lang.String"/>
        <form-property name="type" type="java.lang.String"/>
        <form-property name="capacityNormal" type="java.lang.String"/>
        <form-property name="capacityExame" type="java.lang.String"/>
      </form-bean>

      <!-- Dynamic-FormBean para PesquisarSalas -->
      <form-bean name="posicaoFormBean"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="posicao" type="java.lang.Integer"/>
      </form-bean>

	  <form-bean name="salaFormBean"
                 type="DataBeans.InfoRoom"
                 dynamic="true">
      </form-bean>
      
      <form-bean name="indexForm"
                type="org.apache.struts.validator.DynaValidatorForm"
                dynamic="true">
        <form-property name="index" type="java.lang.Integer"/>
      </form-bean>

	  <form-bean name="searchEmptyRoomsForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
	        <form-property name="executionPeriodIndex" type="java.lang.Integer"/>
	        <form-property name="weekDay" type="java.lang.String"/>
	        <form-property name="startHour" type="java.lang.String"/>
	        <form-property name="endHour" type="java.lang.String"/>
	        <form-property name="startMinutes" type="java.lang.String"/>
			<form-property name="endMinutes" type="java.lang.String"/>	        	        
	        <form-property name="normalCapacity" type="java.lang.String"/>
	        <form-property name="page" type="java.lang.Integer"/>
	  </form-bean>

	  <!-- TURNOS -->
      <!-- Dynamic-FormBean para CriarTurno -->
      <form-bean name="criarTurnoForm"
                          type="org.apache.struts.validator.DynaValidatorForm"
                          dynamic="true">
        <form-property name="nome" type="java.lang.String"/>
        <form-property name="courseInitials" type="java.lang.String"/>
        <form-property name="tipoAula" type="java.lang.Integer"/>
        <form-property name="lotacao" type="java.lang.Integer"/>
      </form-bean>
      
      <form-bean name="shiftNameForm"
                type="org.apache.struts.validator.DynaValidatorForm"
                dynamic="true">
        <form-property name="name" type="java.lang.String"/>
      </form-bean>
      
      <form-bean name="shiftForm"
                type="org.apache.struts.validator.DynaValidatorForm"
                dynamic="true">
        <form-property name="shiftOID" type="java.lang.String"/>
      </form-bean>

      <!-- Dynamic-FormBean para EscolherDisciplinaETipo -->
      <form-bean name="escolherDisciplinaETipoForm"
                          type="org.apache.struts.validator.DynaValidatorForm"
                          dynamic="true">
        <form-property name="indexDisciplinaExecucao" type="java.lang.Integer"/>
      </form-bean>

      <!-- Dynamic-FormBean para ManipularTurnos -->
      <form-bean name="manipularTurnosForm"
                          type="org.apache.struts.validator.DynaValidatorForm"
                          dynamic="true">
        <form-property name="indexTurno" type="java.lang.Integer"/>
      </form-bean>

      <!-- Dynamic-FormBean para EditarTurno -->
      <form-bean name="editarTurnoForm"
                          type="org.apache.struts.validator.DynaValidatorForm"
                          dynamic="true">
        <form-property name="nome" type="java.lang.String"/>
        <form-property name="lotacao" type="java.lang.Integer"/>
      </form-bean>
      
      
      
      <!-- Dynamic-FormBean para Editar Aulas De Turno -->
      <form-bean name="editarAulasDeTurnoForm"
                          type="org.apache.struts.validator.DynaValidatorForm"
                          dynamic="true">
        <form-property name="indexAula" type="java.lang.Integer"/>
      </form-bean>

      <!-- Dynamic-FormBean para Adicionar Aulas De Turno -->
      <form-bean name="adicionarAulasForm"
                            type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
         <form-property name="lessonsList" type="java.lang.String[]" />  
      </form-bean>

	  <!-- TURMAS -->
	      <!-- Dynamic-FormBean para Criar Turma -->
     <form-bean name="classForm" type="org.apache.struts.validator.DynaValidatorForm" dynamic="true">
        <form-property name="className" type="java.lang.String"/>
        <form-property name="method" type="java.lang.String" initial="createClass"/>
        <form-property name="page" type="java.lang.Integer" initial="0"/>
      </form-bean>
      
	  <!-- ========== EXAMS ========== -->
      <!-- Dynamic-FormBean para Day And Shift Context -->
     <form-bean name="chooseDayAndShiftForm"
                type="org.apache.struts.validator.DynaValidatorForm"
                dynamic="true"
                >
        <form-property name="day" type="java.lang.String"/>
        <form-property name="month" type="java.lang.String"/>
        <form-property name="year" type="java.lang.String"/>
        <form-property name="beginning" type="java.lang.String"/>
        <form-property name="page" type="java.lang.Integer"/>
     </form-bean>

      <!-- Dynamic-FormBean for Exam -->
     <form-bean name="examForm"
                type="org.apache.struts.validator.DynaValidatorForm"
                dynamic="true"
                >
        <form-property name="day" type="java.lang.String"/>
        <form-property name="month" type="java.lang.String"/>
        <form-property name="year" type="java.lang.String"/>
        <form-property name="beginning" type="java.lang.String"/>
        <form-property name="season" type="java.lang.String"/>
        <form-property name="page" type="java.lang.Integer"/>
     </form-bean>

     <form-bean name="examCommentForm"
                type="org.apache.struts.validator.DynaValidatorForm"
                dynamic="true"
                >
        <form-property name="comment" type="java.lang.String"/>
        <form-property name="executionCourseCode" type="java.lang.String"/>
        <form-property name="executionPeriodName" type="java.lang.String"/>
        <form-property name="executionYear" type="java.lang.String"/>
     </form-bean>

      <!-- Dynamic-FormBean for Choose Context-->
      <form-bean name="chooseExamsMapContextForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="index" type="java.lang.String"/>
        <form-property name="selectedCurricularYears" type="java.lang.String[]" size="0"/>
        <form-property name="selectAllCurricularYears" type="java.lang.Boolean"/>
        <form-property name="page" type="java.lang.Integer"/> 
      </form-bean>

      <form-bean name="pagedIndexForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                dynamic="true">
        <form-property name="index" type="java.lang.Integer"/>
        <form-property name="page" type="java.lang.Integer"/>
      </form-bean>
      
      <form-bean name="editExamRoomsForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="selectedRooms" type="java.lang.String[]" size="0"/>
        <form-property name="page" type="java.lang.Integer"/> 
      </form-bean>
      
      <form-bean name="chooseViewAllClassesSchedulesContextForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="selectedDegrees" type="java.lang.String[]" size="0"/>
        <form-property name="selectAllDegrees" type="java.lang.Boolean"/>
        <form-property name="page" type="java.lang.Integer"/> 
      </form-bean>      

      <form-bean name="chooseViewAllRoomsSchedulesContextForm"
                 type="org.apache.struts.validator.DynaValidatorForm"
                 dynamic="true">
        <form-property name="selectedPavillions" type="java.lang.String[]" size="0"/>
        <form-property name="selectAllPavillions" type="java.lang.Boolean"/>
        <form-property name="page" type="java.lang.Integer"/> 
      </form-bean> 


	  <!-- ========== WORKING AREA ========== -->

      <!-- Dynamic-FormBean para Day And Shift Context -->
     <form-bean name="createWorkingAreaForm"
                type="org.apache.struts.validator.DynaValidatorForm"
                dynamic="true"
                >
        <form-property name="semesterToCreate" type="java.lang.String"/>
        <form-property name="yearToCreate" type="java.lang.String"/>
        <form-property name="semesterToExportDataFrom" type="java.lang.String"/>
        <form-property name="yearToExportDataFrom" type="java.lang.String"/>
        <form-property name="page" type="java.lang.Integer"/>
     </form-bean>


    </form-beans>

    <!-- ========== Global Exception Definitions ============================== -->
	<global-exceptions>
        <exception
			type="java.lang.Exception"
			key="error.Exception"
            handler="ServidorApresentacao.config.FenixContainerExceptionHandler"
			/>
		<exception
			type="ServidorAplicacao.Servico.exceptions.NotAuthorizedException"
			key="error.NotAuthorized"
			handler="ServidorApresentacao.config.FenixContainerExceptionHandler"
			/>
	</global-exceptions>

    
    <!-- ========== Global Forward Definitions =============================== -->
    <global-forwards type="org.apache.struts.action.ActionForward">
      <forward name="index" path="/index.do" redirect="true"/>
      <forward name="firstPage" path="/switchAction.do?prefix=&amp;page=/loginPage.jsp"/>
 	  <forward name="logoff" path="/logoff.do" contextRelative="true"/>
    </global-forwards>
    
    <!-- ========== Action Mapping Definitions =============================== -->
    <action-mappings type="org.apache.struts.action.ActionMapping">
      <!-- page fronting actions -->
      <action path="/paginaPrincipal" forward="/paginaPrincipal.jsp"/>
      <action path="/index" forward="/autenticacaoSOP.jsp"/>
      <action path="/autenticacaoSOP" forward="/autenticacaoSOP.jsp"/>
      <action path="/criarSala" forward="/criarSala.jsp"/>
      <action path="/gestaoHorarios" forward="/gestaoHorarios.jsp"/>
      <action path="/principalAulas" forward="/principalAulas.jsp"/>
      <action path="/principalTurnos" forward="/principalTurnos.jsp"/>
      <action path="/criarTurno" forward="/criarTurno.jsp"/>
      <action path="/escolherDisciplinaETipo" forward="/escolherDisciplinaETipo.jsp"/>
      <action path="/manipularTurnos" forward="/manipularTurnos.jsp"/>
      <action path="/createExamComment" forward="/defineExamComment.jsp"/>
      <action path="/home" forward="/switchAction.do?prefix=&amp;page=/home.do"/>
      <action path="/switchAction" type="org.apache.struts.actions.SwitchAction"/>

		<action path="/manageSchedules" forward="/manageSchedules.jsp"/>

      <action path="/principalSalas" 
              type="ServidorApresentacao.Action.base.FenixForwardAction" 
              parameter="/sop/principalSalas.jsp"/>
    

     
<!--      <action path="/editarTurno" forward="/editarTurno.jsp"/>-->

      <!-- action definitions -->
      <!-- AUTORIZACAO -->
      <action name="autenticacaoSOPForm"
              type="ServidorApresentacao.Action.sop.AutenticacaoSOPFormAction"
              path="/autenticacaoSOPForm"
              input="/autenticacaoSOP.jsp"
              scope="request"
              attribute="autenticacaoSOPForm">
        <exception type="ServidorAplicacao.NotExecutedException"
                   key="ServidorAplicacao.NotExecutedException"
                   path="/autenticacaoSOP.do"/>
        <exception type="ServidorAplicacao.Servico.ExcepcaoAutenticacao"
                   key="ServidorAplicacao.Servico.ExcepcaoAutenticacao"
                   path="/autenticacaoSOP.do"/>
        <forward name="SOP"
                 path="/sop/paginaPrincipal.jsp"
                 contextRelative="true"
                 redirect="true"/>
      </action>

	  <!-- CONTEXTO -->

	<action path="/chooseExecutionPeriod"
			name="pagedIndexForm"
			input="/chooseExecutionPeriod.do?method=prepare"
    		type="ServidorApresentacao.Action.sop.ExecutionPeriodDA"
    		parameter="method"
    		validate="true"
    		scope="request"
    		>
  		<forward name="showForm" path="/chooseExecutionPeriod.jsp"/>
  		<forward name="choose" path="/commonNavLocalBeforeSop.jsp"/>
  		<forward name="viewRoom" path="/sopViewRoom.jsp"/>
	</action>

      <action path="/beforeSop" forward="/commonNavLocalBeforeSop.jsp"/>
      
	  <!-- Choose Context for Timetables Management-->
      <action path="/prepararEscolherContexto"
              type="ServidorApresentacao.Action.sop.PrepararEscolherContextoFormAction"
              scope="request">
          <forward name="Sucesso" path="/escolherContexto.jsp"/>
      </action>

      <action attribute="escolherContextoForm"
              input="/prepararEscolherContexto.do"
              name="escolherContextoForm"
              path="/escolherContextoForm"
              scope="request"
              type="ServidorApresentacao.Action.sop.EscolherContextoFormAction">
        <exception type="ServidorAplicacao.Servico.ExcepcaoInexistente"
                   key="ServidorAplicacao.Servico.ExcepcaoInexistente"
                   path="/sop/paginaPrincipal.do"/>
        <forward name="Sucesso" path="/gestaoHorarios.do"/>
        <forward name="Licenciatura execucao inexistente" path="/naoExecutado.do"/>
      </action>


     <!-- Gestao de Horarios -->
     <!-- LISTAGENS -->
	<action parameter="method"
			path="/viewAllClassesSchedulesDA"
    		type="ServidorApresentacao.Action.sop.ViewAllClassesSchedulesDA"			
			name="chooseViewAllClassesSchedulesContextForm"
			input="/viewAllClassesSchedulesDA.do?method=choose&amp;page=0" 
    		validate="true"
    		scope="request"
    		>
    	<forward name="choose" path="/chooseDegreesToViewClassesSchedules.jsp"/>
    	<forward name="list" path="/viewAllClassesSchedules.jsp"/>
	</action>     
     
	<action parameter="method"
			path="/viewAllRoomsSchedulesDA"
    		type="ServidorApresentacao.Action.sop.ViewAllRoomsSchedulesDA"			
			name="chooseViewAllRoomsSchedulesContextForm"
			input="/viewAllRoomsSchedulesDA.do?method=choose&amp;page=0" 
    		validate="true"
    		scope="request"
    		>
    	<forward name="choose" path="/choosePavillionsToViewRoomsSchedules.jsp"/>
    	<forward name="list" path="/viewAllRoomsSchedules.jsp"/>
	</action>     

	 <!-- AULAS -->
      <action path="/prepararAula"
              type="ServidorApresentacao.Action.sop.PrepararAulaFormAction"
              scope="request">
          <forward name="Sucesso" path="/criarAula.jsp"/>
      </action>

      <action attribute="aulaForm"
              input="/prepararAula.do"
              name="aulaForm"
              path="/criarAulaForm"
              scope="request"
              type="ServidorApresentacao.Action.sop.LessonManagerDispatchAction"
              parameter="operation"
              validate="true"
              >
		<exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
				   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
                   />
		<exception type="ServidorApresentacao.Action.exceptions.InterceptingActionException"
				   key="ServidorApresentacao.Action.exceptions.InterceptingActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
                   />
        <exception type="ServidorApresentacao.Action.exceptions.InvalidTimeIntervalActionException"
        		   key="ServidorApresentacao.Action.exceptions.InvalidTimeIntervalActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
                   />           
		<forward name="Criar" path="/prepararAula.do"/>
		<forward name="Atribuir Sala" path="/chooseLessonRoom.jsp"/>
      </action>

      <action path="/escolherAulas"
              type="ServidorApresentacao.Action.sop.EscolherAulasFormAction"
              scope="request">
          <forward name="Sucesso" path="/manipularAulas.jsp"/>
      </action>
     
      <action attribute="manipularAulasForm"
              input="/manipularAulas.jsp"
              name="manipularAulasForm"
              path="/manipularAulasForm"
              scope="request"
              type="ServidorApresentacao.Action.sop.ManipularAulasFormAction">
         <forward name="Editar" path="/prepararEditarAula.do"/>
         <forward name="Apagar" path="/apagarAula.do"/>
         <forward name="Voltar" path="/gestaoHorarios.do"/>
      </action>

      <action path="/apagarAula"
              input="/manipularAulas.jsp"
              type="ServidorApresentacao.Action.sop.ApagarAulaFormAction">
          <forward name="Sucesso" path="/manipularAulas.jsp"/>
      </action>

     <action path="/prepararEditarAula"
     	     attribute="aulaForm"
             name="aulaForm"
             validate="false"
             type="ServidorApresentacao.Action.sop.PrepararEditarAulaFormAction"
             input="manipularAulas.jsp"
             scope="request">
         <forward name="Sucesso" path="/editarAula.jsp"/>
     </action>

     <action attribute="aulaForm"
             path="/editarAulaForm"
             type="ServidorApresentacao.Action.sop.LessonManagerDispatchAction"
             parameter="operation"
             name="aulaForm"
             scope="request"
             input="/editarAulaForm.do?operation=input">
		<exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
				   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
                   />
		<exception type="ServidorApresentacao.Action.exceptions.InterceptingActionException"
				   key="ServidorApresentacao.Action.exceptions.InterceptingActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
                   />
        <exception type="ServidorApresentacao.Action.exceptions.InvalidTimeIntervalActionException"
        		   key="ServidorApresentacao.Action.exceptions.InvalidTimeIntervalActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
                   />
         <forward name="Guardar" path="/escolherAulas.do"/>
         <forward name="Sucesso" path="/escolherAulas.do"/>
         <forward name="Alterar Sala" path="/changeLessonRoom.jsp"/>
         <forward name="Input" path="/editarAula.jsp"/>
	 </action>

      <!-- Gestao de Salas -->
      <action path="/prepararSalaForm"
              type="ServidorApresentacao.Action.sop.PrepararCriarSalaFormAction"
              scope="request"
	      parameter="method">
	      
          <forward name="CriarSala" path="/criarSala.jsp"/>
          <forward name="PesquisarSalas" path="/pesquisarSalas.jsp"/>
      </action>

      <action path="/criarSalaForm"
      		  attribute="roomForm"
              input="/prepararSalaForm.do?method=prepareCreate"
			  name="roomForm"
              scope="request"
              type="ServidorApresentacao.Action.sop.CriarSalaFormAction"
              validate="true">
         <exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
         	   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
               handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
               />
        <forward name="Sucesso" path="/principalSalas.do"/>
      </action>

      <action attribute="searchEmptyRoomsForm"
              input="/searchEmptyRoomsDA.do?method=prepare&amp;page=0"
              name="searchEmptyRoomsForm"
              path="/searchEmptyRoomsDA"
              scope="request"
              parameter="method"
              type="ServidorApresentacao.Action.sop.SearchEmptyRoomsDispatchAction"
              validate="true"
              >
         <exception type="ServidorApresentacao.Action.exceptions.InvalidTimeIntervalActionException"
         	   key="ServidorApresentacao.Action.exceptions.InvalidTimeIntervalActionException"
               handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
               />
              <forward name="showSearchResult" path="/showEmptyRooms.jsp"/>
              <forward name="searchPage" path="/searchEmptyRooms.jsp"/>              
      </action>

      <action attribute="roomForm"
              input="/pesquisarSalas.jsp"
              name="roomForm"
              path="/pesquisarSala"
              scope="request"
              type="ServidorApresentacao.Action.sop.SelectRoomsFormAction"
              validate="false">
        <forward name="Sucess" path="/manipularSalas.jsp" />
      </action>

      <action attribute="indexForm"
      		  input="/manipularSalas.jsp"
              name="indexForm"
              path="/manipularSalas"
              scope="session"
              type="ServidorApresentacao.Action.sop.ManipularSalasAction">
        <exception type="ServidorApresentacao.Action.exceptions.notAuthorizedActionDeleteException"
         	   key="ServidorApresentacao.Action.exceptions.notAuthorizedActionDeleteException"
               handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
               />      
        <forward name="SalaApagada" path="/manipularSalas.jsp" />
		<forward name="VerSala" path="/viewRoom.do" />
        <forward name="EditarSala" path="/editarSala.jsp" />
      </action>


      <action attribute="criarSalaForm"
      		  input="/editarSala.jsp"
	          path="/editarSala"
	          name="roomForm"
              scope="request"
              type="ServidorApresentacao.Action.sop.EditarSalaAction">
         <exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
         		    key="ServidorApresentacao.Action.exceptions.ExistingActionException"
                    handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
                    />
        <forward name="Sucesso" path="/pesquisarSalas.jsp" />
      </action>

      <action attribute="pesquisarSalaForm"
              input="/pesquisarSala.jsp"
              name="pesquisarSalaForm"
              path="/pesquisarSalas"
              scope="request"
              type="ServidorApresentacao.Action.publico.SelectRoomsFormAction">
        <forward name="Sucesso" path="/manipularSalas.jsp" />
        <forward name="Voltar" path="/principalSalas.do"/>
      </action>
      
      <action path="/prepareViewRoomOcupation"
              type="ServidorApresentacao.Action.publico.SelectSemesterAction"
              >
          <forward name="Sucess" path="/chooseSemester.jsp"/>
      </action>

      <action attribute="indexForm"
              input="/manipularSalas.jsp"
              name="indexForm"
      		  path="/viewRoom"
              scope="session"
              
              type="ServidorApresentacao.Action.sop.ViewRoomFormAction">
          <forward name="Sucess" path="/sopViewRoom.jsp"/>
      </action>
<!-- Angela -->
	<!-- executionCourseSite -->
	<action 
		path="/viewSite"	
		parameter="method"
        type="ServidorApresentacao.Action.sop.SiteViewerDispatchAction">  

        <exception type="ServidorApresentacao.Action.exceptions.NonExistingActionException"
			       key="ServidorApresentacao.Action.exceptions.NonExistingActionException"
			       handler="ServidorApresentacao.config.FenixErrorExceptionHandler" /> 
		<exception type="ServidorApresentacao.Action.exceptions.FenixActionException"
	               key="ServidorApresentacao.Action.exceptions.FenixActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"/>  
		<exception type="ServidorApresentacao.Action.exceptions.NonExistingAssociatedCurricularCoursesActionException"
			       key="ServidorApresentacao.Action.exceptions.NonExistingAssociatedCurricularCoursesActionException"
			       handler="ServidorApresentacao.config.FenixErrorExceptionHandler" /> 
        <forward name="erro" path="/executionCourseNotFound.jsp"/>
     	<forward name="sucess" path="/viewExecutionCourse.jsp"/>  
      
     	
     	 
   	</action>
      
	  <!-- TURNOS -->
      <action path="/prepararCriarTurno"
              type="ServidorApresentacao.Action.sop.PrepararCriarTurnoFormAction"
              scope="request">
          <forward name="Sucesso" path="/criarTurno.jsp"/>
      </action>
      <action attribute="criarTurnoForm"
              input="/prepararCriarTurno.do"
              name="criarTurnoForm"
              path="/criarTurnoForm"
              scope="request"
              type="ServidorApresentacao.Action.sop.CriarTurnoFormAction">
		<exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
				   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
                   />              
        <forward name="Sucesso" path="/gestaoHorarios.do"/> 
      </action>

      <action attribute="shiftNameForm"
              input="/manipularTurnos.jsp"
              name="shiftNameForm"
              path="/viewClassesWithShift"
              scope="request"
              type="ServidorApresentacao.Action.sop.ViewClassesWithShift"
              validate="false">
	        <forward name="sucess" path="/viewClassesWithShift.jsp"/> 
      </action>
     
    <action path="/prepararManipularTurnos"
              type="ServidorApresentacao.Action.sop.PrepararManipularTurnosFormAction"
              scope="request">
          <forward name="Sucesso" path="/manipularTurnos.jsp"/>
      </action>
      
      <action attribute="manipularTurnosForm"
              input="/prepararManipularTurnos.do"
              name="manipularTurnosForm"
              path="/manipularTurnosForm"
              scope="request"
              type="ServidorApresentacao.Action.sop.ManipularTurnosFormAction">
        <forward name="Ver Turno" path="/prepararVerTurno.do"/>
        <forward name="Editar Turno" path="/prepararEditarTurno.do"/>
        <forward name="Apagar Turno" path="/apagarTurno.do"/>
        <forward name="Ver Alunos Inscritos" path="/prepararVerAlunosDeTurno.do"/>
        <forward name="Voltar" path="/gestaoHorarios.do"/>
      </action>
      
      <action path="/apagarTurno"
              input="/manipularTurnos.jsp"
              type="ServidorApresentacao.Action.sop.ApagarTurnoFormAction">
          <forward name="Sucesso" path="/manipularTurnos.jsp"/>
      </action>

     <action path="/prepararVerTurno"
             input="/manipularTurnos.jsp"
             type="ServidorApresentacao.Action.sop.PrepararVerTurnoFormAction">
         <forward name="Sucesso" path="/verTurno.jsp"/>
     </action>

     <action path="/prepararEditarTurno"
      		  attribute="editarTurnoForm"
      		  name="editarTurnoForm"
      		  validate="false"
              type="ServidorApresentacao.Action.sop.PrepararEditarTurnoFormAction"
              input="manipularTurnos.jsp"
              scope="request">
          <forward name="Sucesso" path="/editarTurno.jsp"/>
      </action>

      <action attribute="editarTurnoForm"
              input="/prepararEditarTurno.do"
              name="editarTurnoForm"
              path="/editarTurnoForm"
              scope="request"
              type="ServidorApresentacao.Action.sop.EditarTurnoFormAction">
         <exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
         	   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
               handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
               />     
        <forward name="Guardar" path="/prepararManipularTurnos.do"/>
      </action>

      <action path="/prepararEditarAulasDeTurno"
              type="ServidorApresentacao.Action.sop.PrepararEditarAulasDeTurnoFormAction"
              scope="request">
          <forward name="Sucesso" path="/editarAulasDeTurno.jsp"/>
      </action>

      <action attribute="editarAulasDeTurnoForm"
              input="/editarAulasDeTurno.jsp"
              name="editarAulasDeTurnoForm"
              path="/editarAulasDeTurnoForm"
              scope="session"
              type="ServidorApresentacao.Action.sop.EditarAulasDeTurnoFormAction"
              validate="false"
              >
        <forward name="Adicionar Aulas" path="/prepararAdicionarAulasDeTurno.do"/>
        <forward name="Remover Aula" path="/removerAulaDeTurno.do"/>        
      </action>

      <action attribute="editarAulasDeTurnoForm"
              name="editarAulasDeTurnoForm"
      		  path="/removerAulaDeTurno"
              scope="request"      		  
              input="/prepararEditarAulasDeTurno.do"
              type="ServidorApresentacao.Action.sop.RemoverAulaDeTurnoFormAction"
              validate="true"
              >
          <forward name="Sucesso" path="/prepararEditarAulasDeTurno.do"/>
      </action>

      <action path="/prepararAdicionarAulasDeTurno"
              type="ServidorApresentacao.Action.sop.PrepararAdicionarAulasDeTurnoFormAction"
              scope="request">
          <forward name="Sucesso" path="/adicionarAulas.jsp"/>
      </action>

              <!--input="/adicionarAulas.jsp"-->
      <action attribute="adicionarAulasForm"
              input="/prepararAdicionarAulasDeTurno.do"
              name="adicionarAulasForm"
              path="/adicionarAulasForm"
              scope="request"
              type="ServidorApresentacao.Action.sop.AdicionarAulasFormAction">
          <exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
          	   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
               handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
               />
        <forward name="Sucesso" path="/prepararEditarAulasDeTurno.do"/>
      </action>

     <action path="/prepararVerAlunosDeTurno"
             input="/manipularTurnos.jsp"
             type="ServidorApresentacao.Action.sop.PrepararVerAlunosDeTurnoFormAction">
         <forward name="Sucesso" path="/verAlunosDeTurno.jsp"/>
     </action>


     <!-- TURMAS -->      
      <action parameter="method"
		      path="/ClassesManagerDA"
              type="ServidorApresentacao.Action.sop.ClassesManagerDispatchAction"
		>
        <forward name="listClasses" path="/listClasses.jsp"/>
      </action>
      
     <action parameter="method"
     		 input="/viewTimeTable.jsp"
     		 name="classForm"
		     path="/ClassManagerDA"
             type="ServidorApresentacao.Action.sop.ClassManagerDispatchAction"
             validate="true"
             scope="request">
          <exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
          			 key="ServidorApresentacao.Action.exceptions.ExistingActionException"
                     handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
           />
             <forward name="viewTimeTable" path="/viewTimeTable.jsp"/>
	         <forward name="listClasses" path="ClassesManagerDA.do?method=listClasses"/>             
      </action>

      <action parameter="method"
      	      input = "/viewShiftList.jsp"
		      path="/ClassShiftManagerDA"
              type="ServidorApresentacao.Action.sop.ClassShiftManagerDispatchAction"
              validate="false"
		>
		<exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
			   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
               handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
               />
	         <forward name="viewClassShiftList" path="/viewShiftList.jsp"/>  
	         <forward name="viewAvailableShiftList" path="/viewShiftList.jsp"/>  
      </action>



	  <!-- Choose Execution Course Form for lessons -->
      <action name="chooseExecutionCourseForm"
		      input="/escolherDisciplinaExecucao.jsp"
              path="/escolherDisciplinaExecucaoForm"
              scope="request"
              type="ServidorApresentacao.Action.sop.ChooseExecutionCourseAction"
              validate="true">
        <forward name="forwardChoose" path="/escolherAulas.do"/>
        <forward name="showForm" path="/escolherDisciplinaExecucao.jsp"/>        
      </action>

	  <!-- Choose Execution Course Form for shifts in timetables -->
      <action name="chooseExecutionCourseForm"
      		  input="/escolherDisciplinaExecucao.jsp"
              path="/chooseExecutionCourse"
              scope="request"
              type="ServidorApresentacao.Action.sop.ChooseExecutionCourseAction"
              validate="true"
              >
        <forward name="forwardChoose" path="/ClassShiftManagerDA.do?method=listAvailableShifts"/>
        <forward name="showForm" path="/escolherDisciplinaExecucao.jsp"/>        
      </action>
      
	  <!-- Choose Execution Course Form for Shifts -->   
      <action input="/escolherDisciplinaExecucao.jsp"
              name="chooseExecutionCourseForm"
              path="/escolherDisciplinaETipoForm"
              scope="request"
              type="ServidorApresentacao.Action.sop.ChooseExecutionCourseAction"
              validate="true"
              >
        <forward name="forwardChoose" path="/prepararManipularTurnos.do"/>
      	<forward name="showForm" path="/escolherDisciplinaExecucao.jsp"/>	
      </action>
     

	<!-- ========== EXAMS ========== -->
	<action path="/chooseDayAndShiftForm"
			input="/chooseDayAndShiftForm.do?method=prepare&amp;nextPage=viewExams&amp;page=0"
			name="chooseDayAndShiftForm"
            type="ServidorApresentacao.Action.sop.ChooseExamDayAndShiftDispatchAction"
            parameter="method"
            scope="request"
            validate="true"
            >
         <forward name="Show Choose Form" path="/chooseDayAndShift.jsp"/>
         <forward name="viewExams" path="/viewExamsDayAndShiftForm.do?method=view"/>
         <forward name="viewEmptyRooms" path="/viewEmptyRoomsInDayAndShift.do"/>
	</action>

	<action path="/viewExamsDayAndShiftForm"		
			input="/viewExamsDayAndShift.jsp"
            type="ServidorApresentacao.Action.sop.ViewExamsByDayAndShiftDispatchAction"
            parameter="method"
            name="examForm"
            validate="false"
            >
         <forward name="View Exams" path="/viewExamsByDayAndShift.jsp"/>
         <forward name="Deleted Exam" path="/viewExamsDayAndShiftForm.do?method=view"/>
         <forward name="Edit Exam" path="/editExam.jsp"/>
         <forward name="Add Execution Course" path="/chooseExamsContextDA.do?method=prepare&amp;page=0&amp;inputPage=chooseExamsContext&amp;nextPage=addExecutionCourseToExam"/>
	</action>
	
    <action	input="/viewEmptyRoomsInDayAndShift.jsp"
      		path="/viewEmptyRoomsInDayAndShift"
			type="ServidorApresentacao.Action.sop.ViewEmptyRoomsInDayAndShiftAction"
        	>
		<forward name="View" path="/viewEmptyRoomsInDayAndShift.jsp"/>
      </action>
	
	
    <action input="/chooseExamsContextDA.do?method=prepare&amp;page=0&amp;inputPage=chooseExamsContext"
            name="chooseContextForm"
            parameter="method"
            path="/chooseExamsContextDA"
            scope="request"
            validate="true"
            type="ServidorApresentacao.Action.commons.ChooseContextDispatchAction"
            >
        <forward name="chooseExamsContext" path="/chooseExamsContext.jsp"/>
        <forward name="createExam" path="/chooseExecutionCourseForm.do"/>
        <forward name="listByDegreeAndAcademicYear" path="/viewExamsByDegreeAndCurricularYear.do"/>
        <forward name="addExecutionCourseToExam" path="/chooseExecutionCourseToAddToExam.do"/>
    </action>

	<action path="/addExecutionCourseToExam"
    		type="ServidorApresentacao.Action.sop.AddExecutionCourseToExamAction"
    		input="/viewExamsByDayAndShift.jsp"
    		>
    	<exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
        		   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
        		   />
    	<forward name="Sucess" path="/viewExamsDayAndShiftForm.do?method=view"/>
	</action>
	
	<action path="/viewExamsByDegreeAndCurricularYear"
    		type="ServidorApresentacao.Action.sop.ViewExamsByDegreeAndCurricularYearAction"
    		>
    	<forward name="Sucess" path="/viewExamsByDegreeAndCurricularYear.jsp"/>
	</action>

	<action path="/viewAllExamsByDegreeAndCurricularYear"
    		type="ServidorApresentacao.Action.sop.ViewAllExamsByDegreeAndCurricularYearAction"
    		>
    	<forward name="Sucess" path="/viewAllExamsByDegreeAndCurricularYear.jsp"/>
	</action>


	<!-- Choose Execution Course Form for exam -->
    <action path="/chooseExecutionCourseForm"
    		name="chooseExecutionCourseForm"
			input="/chooseExecutionCourse.jsp"
            scope="request"
            type="ServidorApresentacao.Action.sop.ChooseExecutionCourseAction"
            validate="false">
        <forward name="forwardChoose" path="/createExam.do?method=prepare&amp;page=0"/>
        <forward name="showForm" path="/chooseExecutionCourse.jsp"/>        
    </action>

    <action path="/chooseExecutionCourseToAddToExam"
    		name="chooseExecutionCourseForm"
			input="/chooseExecutionCourse.jsp"
            scope="request"
            type="ServidorApresentacao.Action.sop.ChooseExecutionCourseAction"
            validate="false">
        <forward name="forwardChoose" path="/addExecutionCourseToExam.do"/>
        <forward name="showForm" path="/chooseExecutionCourse.jsp"/>        
    </action>

	<action path="/createExam"
			name="examForm"
			input="/createExam.do?method=prepare&amp;page=0"
    		type="ServidorApresentacao.Action.sop.CreateExamActionDA"
            parameter="method"
    		>
    	<exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
        		   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
        		   />
    	<forward name="showCreateForm" path="/createExam.jsp"/>
    	<forward name="Sucess" path="/mainExams.do?method=prepare&amp;page=0"/>
    	<forward name="viewExamsMap" path="/viewExamsMap.do?method=view"/>
	</action>

	<action path="/editExam"
			name="examForm"
			input="/editExam.jsp"
    		type="ServidorApresentacao.Action.sop.EditExamAction"
    		>
    	<exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
        		   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
        		   />
    	<exception type="ServidorApresentacao.Action.exceptions.InterceptingRoomsActionException"
        		   key="ServidorApresentacao.Action.exceptions.InterceptingRoomsActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
        		   />
    	<forward name="viewExamsByDayAndShift" path="/viewExamsDayAndShiftForm.do?method=view"/>
    	<forward name="viewExamsMap" path="/viewExamsMap.do?method=view"/>
	</action>

    <action input="/chooseExamsMapContextDA.do?method=prepare&amp;page=0"
            name="chooseExamsMapContextForm"
            parameter="method"
            path="/chooseExamsMapContextDA"
            scope="request"
            validate="true"
            type="ServidorApresentacao.Action.sop.ChooseExamsMapContextDA"
            >
        <forward name="chooseExamsMapContext" path="/chooseExamsMapContext.jsp"/>
        <forward name="showExamsMap" path="/viewExamsMap.do?method=view"/>
    </action>

    <action path="/viewExamsMap"
            type="ServidorApresentacao.Action.sop.ViewExamsMapDA"
            parameter="method"
            name="examForm"
            validate="false"
            >
        <forward name="viewExamsMap" path="/viewExamsMap.jsp"/>
        <forward name="createExam" path="/createExam.do?method=prepare&amp;page=0&amp;nextPage=viewExamsMap"/>
        <forward name="editExam" path="/editExam.jsp"/>
    </action>

	<action path="/defineExamComment"
			name="examCommentForm"
			input="/defineExamComment.jsp"
    		type="ServidorApresentacao.Action.sop.DefineExamCommentActionDA"
    		parameter="method"
    		validate="false"
    		scope="request"
    		>
  		<forward name="defineExamComment" path="/defineExamComment.jsp"/>
        <forward name="showExamsMap" path="/viewExamsMap.do?method=view"/>
	</action>

	<action path="/mainExams"
			name="pagedIndexForm"
			input="/mainExams.do?method=prepare"
    		type="ServidorApresentacao.Action.sop.ExecutionPeriodDA"
    		parameter="method"
    		validate="true"
    		scope="request"
    		>
  		<forward name="showForm" path="/mainExams.jsp"/>
  		<forward name="choose" path="/mainExams.do?method=prepare"/>
	</action>

    <action parameter="method"
            path="/editExamRooms"
            type="ServidorApresentacao.Action.sop.EditExamRoomsDA"
			name="editExamRoomsForm"
			input="/editExamRooms.do?method=prepare"
			validate="false"
			scope="request"
            >
        <forward name="ViewSelectRoomsForm" path="/selectRoomsForExam.jsp"/>
        <forward name="ViewEditExamForm" path="/editExam.jsp"/>
    </action>

      <action path="/consultRoomsForExams"
              type="ServidorApresentacao.Action.sop.ConsultRoomsForExamDA"
              scope="request"
		      parameter="method">
          <forward name="Search Rooms" path="/searchRoomsForExams.jsp"/>
      </action>

      <action attribute="roomForm"
              input="/searchRoomsForExams.jsp"
              name="roomForm"
              path="/chooseRoomToViewForExams"
              scope="request"
              type="ServidorApresentacao.Action.sop.SelectRoomsFormAction"
              validate="false">
        <forward name="Sucess" path="/listRoomsForExams.jsp" />
      </action>

      <action attribute="indexForm"
      		  input="/listRoomsForExams.jsp"
              name="indexForm"
              path="/selectRoomToViewForExams"
              scope="request"
              type="ServidorApresentacao.Action.sop.ManipularSalasAction">
        <exception type="ServidorApresentacao.Action.exceptions.notAuthorizedActionDeleteException"
         	   key="ServidorApresentacao.Action.exceptions.notAuthorizedActionDeleteException"
               handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
               />
		<forward name="VerSala" path="/viewRoomForExams.do" />
      </action>

      <action attribute="indexForm"
              input="/manipularSalas.jsp"
              name="indexForm"
      		  path="/viewRoomForExams"
              scope="session"
              validate="true"
              type="ServidorApresentacao.Action.sop.ViewRoomForExamsFormAction">
          <forward name="Sucess" path="/viewRoomForExams.jsp"/>
      </action>

	<action   path="/listClasses"
              name="shiftForm"
              attribute="shiftForm"
              type="ServidorApresentacao.Action.sop.AddShiftsToClassesDA"
              parameter="method"
              scope="request">
          <forward name="showClasses" path="/addShiftToClasses.jsp"/>
      </action>

      <action input="/listClasses.do?method=showClasses"	
			  name="addShiftToClasses"	
      		  path="/addShiftToClasses"
              scope="request"
              type="ServidorApresentacao.Action.sop.AddShiftsToClassesDA"
              parameter="method"
              validate="true">
           <forward name="sucess" path="/gestaoHorarios.do"/>         
      </action>

      <action path="/consultAllRoomsForExams"
              type="ServidorApresentacao.Action.sop.ViewAllRoomsForExamsFormAction"
              >
          <forward name="Sucess" path="/viewAllRoomsForExams.jsp"/>
      </action>

	<!-- ========== SCHEDULE MANAGMENT ========== -->
	<action path="/chooseContext"
			input="/chooseContext.do?method=prepare&amp;page=0"
            type="ServidorApresentacao.Action.sop.ChooseContextDA"
            name="chooseScheduleContextForm"
            parameter="method"
            scope="request"
            validate="true"
            >
    	<forward name="ShowChooseForm" path="/chooseScheduleContext.jsp"/>
        <forward name="ManageSchedules" path="/manageSchedules.do"/>
	</action>

	<action path="/manageShifts"
			input="/manageShifts.do?method=listShifts&amp;page=0"
            type="ServidorApresentacao.Action.sop.ManageShiftsDA"
            name="createShiftForm"
            parameter="method"
            scope="request"
            validate="true"
            >
		<exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
				   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
                   />
    	<forward name="ShowShiftList" path="/manageShifts.jsp"/>
    	<forward name="EditShift" path="/manageShift.do?method=prepareEditShift&amp;page=0"/>
	</action>

	<action path="/manageShift"
			input="/manageShift.do?method=prepareEditShift&amp;page=0"
            type="ServidorApresentacao.Action.sop.ManageShiftDA"
            name="createShiftForm"
            parameter="method"
            scope="request"
            validate="true"
            >
		<exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
				   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
                   />
    	<forward name="EditShift" path="/manageShift.jsp"/>
    	<forward name="ViewStudentsEnroled" path="/viewStudentsEnroledInShift.jsp"/>
	</action>

	<action path="/manageLesson"
			input="/manageLesson.do?method=findInput&amp;page=0"
            type="ServidorApresentacao.Action.sop.ManageLessonDA"
            name="manageLessonForm"
            parameter="method"
            scope="request"
            validate="true"
            >
    	<forward name="ShowLessonForm" path="/manageLesson.jsp"/>
    	<forward name="ShowChooseRoomForm" path="/chooseRoomForLesson.jsp"/>
    	<forward name="EditShift" path="/manageShift.do?method=prepareEditShift&amp;page=0"/>
    	<forward name="LessonDeleted" path="/manageShift.do?method=prepareEditShift&amp;page=0"/>
	</action>

	<action path="/manageClasses"
			input="/manageClasses.do?method=listClasses&amp;page=0"
            type="ServidorApresentacao.Action.sop.ManageClassesDA"
            name="classForm"
            parameter="method"
            scope="request"
            validate="true"
            >
		<exception type="ServidorApresentacao.Action.exceptions.ExistingActionException"
				   key="ServidorApresentacao.Action.exceptions.ExistingActionException"
                   handler="ServidorApresentacao.config.FenixErrorExceptionHandler"
                   />
    	<forward name="ShowClassList" path="/manageClasses.jsp"/>
	</action>

	<action path="/manageClass"
			input="/manageClass.do?method=prepare&amp;page=0"
            type="ServidorApresentacao.Action.sop.ManageClassDA"
            name="classForm"
            parameter="method"
            scope="request"
            validate="true"
            >
    	<forward name="EditClass" path="/manageClass.jsp"/>
    	<forward name="AddShifts" path="/addShifts.jsp"/>
    	<forward name="ViewSchedule" path="/viewClassSchedule.jsp"/>
	</action>

	<action path="/addShifts"
			input="/manageClass.do?method=prepare&amp;page=0"
            type="ServidorApresentacao.Action.sop.AddShiftsDA"
            name="selectMultipleItemsForm"
            parameter="method"
            scope="request"
            validate="true"
            >
    	<forward name="EditClass" path="/manageClass.do?method=prepare&amp;page=0"/>
	</action>

	<action path="/addClasses"
			input="/manageShift.do?method=prepareEditShift&amp;page=0"
            type="ServidorApresentacao.Action.sop.AddClassesDA"
            name="selectMultipleItemsForm"
            parameter="method"
            scope="request"
            validate="true"
            >
    	<forward name="ListClasses" path="/addClasses.jsp"/>
    	<forward name="EditShift" path="/manageShift.do?method=prepareEditShift&amp;page=0"/>
	</action>

	<action path="/deleteShifts"
			input="/manageShifts.do?method=listShifts&amp;page=0"
            type="ServidorApresentacao.Action.sop.ManageShiftsDA"
            name="selectMultipleItemsForm"
            parameter="method"
            scope="request"
            validate="true"
            >
    	<forward name="ShowShiftList" path="/manageShifts.do?method=listShifts&amp;page=0"/>
	</action>

	<action path="/manageShiftMultipleItems"
			input="/manageShift.do?method=prepareEditShift&amp;page=0"
            type="ServidorApresentacao.Action.sop.ManageShiftDA"
            name="selectMultipleItemsForm"
            parameter="method"
            scope="request"
            validate="true"
            >
    	<forward name="EditShift" path="/manageShift.do?method=prepareEditShift&amp;page=0"/>
	</action>

	<action path="/deleteClasses"
			input="/manageClasses.do?method=listClasses&amp;page=0"
            type="ServidorApresentacao.Action.sop.ManageClassesDA"
            name="selectMultipleItemsForm"
            parameter="method"
            scope="request"
            validate="true"
            >
    	<forward name="ShowShiftList" path="/manageClasses.do?method=listClasses&amp;page=0"/>
	</action>

	<action path="/removeShifts"
			input="/manageClass.do?method=prepare&amp;page=0"
            type="ServidorApresentacao.Action.sop.ManageClassDA"
            name="selectMultipleItemsForm"
            parameter="method"
            scope="request"
            validate="true"
            >
    	<forward name="EditClass" path="/manageClass.do?method=prepare&amp;page=0"/>
	</action>

	<action path="/manageExecutionCourses"
			input="/manageExecutionCourses.do?method=prepareSearch&amp;page=0"
            type="ServidorApresentacao.Action.sop.ManageExecutionCoursesDA"
            name="searchExecutionCourse"
            parameter="method"
            scope="request"
            validate="true"
            >
    	<forward name="ShowSearchForm" path="/manageExecutionCourses.jsp"/>
    	<forward name="showOccupancy" path="/showOccupancyLevels.jsp"/>
    	<forward name="showLoads" path="/showLoads.jsp"/>
    	<forward name="ManageExecutionCourse" path="/manageExecutionCourse.do?method=prepare&amp;page=0"/>
    	
	</action>

	<action path="/manageExecutionCourse"
			input="/manageExecutionCourse.do?method=prepare&amp;page=0"
            type="ServidorApresentacao.Action.sop.ManageExecutionCourseDA"
            name="editExecutionCourseForm"
            parameter="method"
            scope="request"
            validate="true"
            >
    	<forward name="ManageExecutionCourse" path="/manageExecutionCourse.jsp"/>
	</action>

      <!-- ========== ADICIONADO POR DAVID SANTOS ================================ -->
	  <action path="/siteViewer"
				input="/siteViewerError.jsp"
				scope="request"
				parameter="method"
				type="ServidorApresentacao.Action.publico.SiteViewerDispatchAction">
			<forward name="roomViewer" path="/sopViewRoom.jsp"/>
		</action>
     </action-mappings>     

    
    <!-- ========== Controller Configuration ================================ -->
	 <controller processorClass="ServidorApresentacao.processor.FenixRequestProcessor"/>
    
    <!-- ========== Message Resources Definitions ============================ -->
    <message-resources
    	parameter="ServidorApresentacao.ApplicationResources"
    	null="false"
    />

    <!-- ========== Plug Ins Configuration ================================= -->
    <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
      <set-property property="pathnames" 
                    value="/WEB-INF/validator-rules.xml,/WEB-INF/fenix-validator-rules.xml,/WEB-INF/conf/validation-sop.xml"/>
    </plug-in>
</struts-config>
